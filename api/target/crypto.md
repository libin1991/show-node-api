[35m[4m[1m# Crypto[22m[24m[39m

[90m<!--introduced_in=v0.3.6-->[39m
[90m[39m
[90m[39m[90m[3m    [0mStability: 2 - Stable[0m[23m[39m

[0mThe [33mcrypto[39m module provides cryptographic functionality that includes a set of[0m
[0mwrappers for OpenSSL's hash, HMAC, cipher, decipher, sign, and verify functions.[0m

[0mUse [33mrequire('crypto')[39m to access this module.[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37msecret[39m [93m=[39m [92m'abcdefg'[39m[90m;[39m
    [94mconst[39m [37mhash[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateHmac[39m[90m([39m[92m'sha256'[39m[32m,[39m [37msecret[39m[90m)[39m
                       [32m.[39m[37mupdate[39m[90m([39m[92m'I love cupcakes'[39m[90m)[39m
                       [32m.[39m[37mdigest[39m[90m([39m[92m'hex'[39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mhash[39m[90m)[39m[90m;[39m
    [90m// Prints:[39m
    [90m//   c0fa1bc00531bd78ef38c628449c5102aeabd49b5dc3a2a516ea6ea959d6658e[39m

[32m[1m## Determining if crypto support is unavailable[22m[39m

[0mIt is possible for Node.js to be built without including support for the[0m
[0m[33mcrypto[39m module. In such cases, calling [33mrequire('crypto')[39m will result in an[0m
[0merror being thrown.[0m

    [94mlet[39m [37mcrypto[39m[90m;[39m
    [36mtry[39m [33m{[39m
      [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [33m}[39m [36mcatch[39m [90m([39m[37merr[39m[90m)[39m [33m{[39m
      [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[92m'crypto support is disabled!'[39m[90m)[39m[90m;[39m
    [33m}[39m

[32m[1m## Class: [33mCertificate[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.11.8[39m
[90m-->[39m
[90m[39m
[90m[39m[0mSPKAC is a Certificate Signing Request mechanism originally implemented by[0m
[0mNetscape and was specified formally as part of [HTML5's [33mkeygen[39m element][].[0m

[0m[33m<keygen>[39m is deprecated since [HTML 5.2][] and new projects[0m
[0mshould not use this element anymore.[0m

[0mThe [33mcrypto[39m module provides the [33mCertificate[39m class for working with SPKAC[0m
[0mdata. The most common usage is handling output generated by the HTML5[0m
[0m[33m<keygen>[39m element. Node.js uses [OpenSSL's SPKAC implementation][] internally.[0m

[32m[1m### [33mCertificate.exportChallenge(spkac)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v9.0.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mspkac[39m {string | Buffer | TypedArray | DataView}[0m
    * [0mReturns: {Buffer} The challenge component of the [33mspkac[39m data structure, which[0m
      [0mincludes a public key and a challenge.[0m

    [94mconst[39m [33m{[39m [37mCertificate[39m [33m}[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mspkac[39m [93m=[39m [37mgetSpkacSomehow[39m[90m([39m[90m)[39m[90m;[39m
    [94mconst[39m [37mchallenge[39m [93m=[39m [37mCertificate[39m[32m.[39m[37mexportChallenge[39m[90m([39m[37mspkac[39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mchallenge[39m[32m.[39m[37mtoString[39m[90m([39m[92m'utf8'[39m[90m)[39m[90m)[39m[90m;[39m
    [90m// Prints: the challenge as a UTF8 string[39m

[32m[1m### [33mCertificate.exportPublicKey(spkac[, encoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v9.0.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mspkac[39m {string | Buffer | TypedArray | DataView}[0m
    * [0m[33mencoding[39m {string} The [encoding][] of the [33mspkac[39m string.[0m
    * [0mReturns: {Buffer} The public key component of the [33mspkac[39m data structure,[0m
      [0mwhich includes a public key and a challenge.[0m

    [94mconst[39m [33m{[39m [37mCertificate[39m [33m}[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mspkac[39m [93m=[39m [37mgetSpkacSomehow[39m[90m([39m[90m)[39m[90m;[39m
    [94mconst[39m [37mpublicKey[39m [93m=[39m [37mCertificate[39m[32m.[39m[37mexportPublicKey[39m[90m([39m[37mspkac[39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mpublicKey[39m[90m)[39m[90m;[39m
    [90m// Prints: the public key as <Buffer ...>[39m

[32m[1m### [33mCertificate.verifySpkac(spkac)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v9.0.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mspkac[39m {Buffer | TypedArray | DataView}[0m
    * [0mReturns: {boolean} [33mtrue[39m if the given [33mspkac[39m data structure is valid,[0m
      [0m[33mfalse[39m otherwise.[0m

    [94mconst[39m [33m{[39m [37mCertificate[39m [33m}[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mspkac[39m [93m=[39m [37mgetSpkacSomehow[39m[90m([39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mCertificate[39m[32m.[39m[37mverifySpkac[39m[90m([39m[37mBuffer[39m[32m.[39m[37mfrom[39m[90m([39m[37mspkac[39m[90m)[39m[90m)[39m[90m)[39m[90m;[39m
    [90m// Prints: true or false[39m

[32m[1m### Legacy API[22m[39m

[0mAs a still supported legacy interface, it is possible (but not recommended) to[0m
[0mcreate new instances of the [33mcrypto.Certificate[39m class as illustrated in the[0m
[0mexamples below.[0m

[32m[1m#### [33mnew crypto.Certificate()[39m[32m[22m[39m

[0mInstances of the [33mCertificate[39m class can be created using the [33mnew[39m keyword[0m
[0mor by calling [33mcrypto.Certificate()[39m as a function:[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37mcert1[39m [93m=[39m [31mnew[39m [37mcrypto[39m[32m.[39m[37mCertificate[39m[90m([39m[90m)[39m[90m;[39m
    [94mconst[39m [37mcert2[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mCertificate[39m[90m([39m[90m)[39m[90m;[39m

[32m[1m#### [33mcertificate.exportChallenge(spkac)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.11.8[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mspkac[39m {string | Buffer | TypedArray | DataView}[0m
    * [0mReturns: {Buffer} The challenge component of the [33mspkac[39m data structure, which[0m
      [0mincludes a public key and a challenge.[0m

    [94mconst[39m [37mcert[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[32m.[39m[37mCertificate[39m[90m([39m[90m)[39m[90m;[39m
    [94mconst[39m [37mspkac[39m [93m=[39m [37mgetSpkacSomehow[39m[90m([39m[90m)[39m[90m;[39m
    [94mconst[39m [37mchallenge[39m [93m=[39m [37mcert[39m[32m.[39m[37mexportChallenge[39m[90m([39m[37mspkac[39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mchallenge[39m[32m.[39m[37mtoString[39m[90m([39m[92m'utf8'[39m[90m)[39m[90m)[39m[90m;[39m
    [90m// Prints: the challenge as a UTF8 string[39m

[32m[1m#### [33mcertificate.exportPublicKey(spkac)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.11.8[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mspkac[39m {string | Buffer | TypedArray | DataView}[0m
    * [0mReturns: {Buffer} The public key component of the [33mspkac[39m data structure,[0m
      [0mwhich includes a public key and a challenge.[0m

    [94mconst[39m [37mcert[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[32m.[39m[37mCertificate[39m[90m([39m[90m)[39m[90m;[39m
    [94mconst[39m [37mspkac[39m [93m=[39m [37mgetSpkacSomehow[39m[90m([39m[90m)[39m[90m;[39m
    [94mconst[39m [37mpublicKey[39m [93m=[39m [37mcert[39m[32m.[39m[37mexportPublicKey[39m[90m([39m[37mspkac[39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mpublicKey[39m[90m)[39m[90m;[39m
    [90m// Prints: the public key as <Buffer ...>[39m

[32m[1m#### [33mcertificate.verifySpkac(spkac)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.11.8[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mspkac[39m {Buffer | TypedArray | DataView}[0m
    * [0mReturns: {boolean} [33mtrue[39m if the given [33mspkac[39m data structure is valid,[0m
      [0m[33mfalse[39m otherwise.[0m

    [94mconst[39m [37mcert[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[32m.[39m[37mCertificate[39m[90m([39m[90m)[39m[90m;[39m
    [94mconst[39m [37mspkac[39m [93m=[39m [37mgetSpkacSomehow[39m[90m([39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mcert[39m[32m.[39m[37mverifySpkac[39m[90m([39m[37mBuffer[39m[32m.[39m[37mfrom[39m[90m([39m[37mspkac[39m[90m)[39m[90m)[39m[90m)[39m[90m;[39m
    [90m// Prints: true or false[39m

[32m[1m## Class: [33mCipher[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.94[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0mExtends: {stream.Transform}[0m

[0mInstances of the [33mCipher[39m class are used to encrypt data. The class can be[0m
[0mused in one of two ways:[0m

    * [0mAs a [stream][] that is both readable and writable, where plain unencrypted[0m
      [0mdata is written to produce encrypted data on the readable side, or[0m
    * [0mUsing the [[33mcipher.update()[39m][] and [[33mcipher.final()[39m][] methods to produce[0m
      [0mthe encrypted data.[0m

[0mThe [[33mcrypto.createCipher()[39m][] or [[33mcrypto.createCipheriv()[39m][] methods are[0m
[0mused to create [33mCipher[39m instances. [33mCipher[39m objects are not to be created[0m
[0mdirectly using the [33mnew[39m keyword.[0m

[0mExample: Using [33mCipher[39m objects as streams:[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37malgorithm[39m [93m=[39m [92m'aes-192-cbc'[39m[90m;[39m
    [94mconst[39m [37mpassword[39m [93m=[39m [92m'Password used to generate key'[39m[90m;[39m
    [90m// Key length is dependent on the algorithm. In this case for aes192, it is[39m
    [90m// 24 bytes (192 bits).[39m
    [90m// Use async `crypto.scrypt()` instead.[39m
    [94mconst[39m [37mkey[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mscryptSync[39m[90m([39m[37mpassword[39m[32m,[39m [92m'salt'[39m[32m,[39m [34m24[39m[90m)[39m[90m;[39m
    [90m// Use `crypto.randomBytes()` to generate a random iv instead of the static iv[39m
    [90m// shown here.[39m
    [94mconst[39m [37miv[39m [93m=[39m [37mBuffer[39m[32m.[39m[37malloc[39m[90m([39m[34m16[39m[32m,[39m [34m0[39m[90m)[39m[90m;[39m [90m// Initialization vector.[39m
    
    [94mconst[39m [37mcipher[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateCipheriv[39m[90m([39m[37malgorithm[39m[32m,[39m [37mkey[39m[32m,[39m [37miv[39m[90m)[39m[90m;[39m
    
    [94mlet[39m [37mencrypted[39m [93m=[39m [92m''[39m[90m;[39m
    [37mcipher[39m[32m.[39m[37mon[39m[90m([39m[92m'readable'[39m[32m,[39m [90m([39m[90m)[39m [93m=>[39m [33m{[39m
      [94mlet[39m [37mchunk[39m[90m;[39m
      [94mwhile[39m [90m([39m[90mnull[39m [93m!==[39m [90m([39m[37mchunk[39m [93m=[39m [37mcipher[39m[32m.[39m[37mread[39m[90m([39m[90m)[39m[90m)[39m[90m)[39m [33m{[39m
        [37mencrypted[39m [93m+=[39m [37mchunk[39m[32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m[90m;[39m
      [33m}[39m
    [33m}[39m[90m)[39m[90m;[39m
    [37mcipher[39m[32m.[39m[37mon[39m[90m([39m[92m'end'[39m[32m,[39m [90m([39m[90m)[39m [93m=>[39m [33m{[39m
      [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mencrypted[39m[90m)[39m[90m;[39m
      [90m// Prints: e5f79c5915c02171eec6b212d5520d44480993d7d622a7c4c2da32f6efda0ffa[39m
    [33m}[39m[90m)[39m[90m;[39m
    
    [37mcipher[39m[32m.[39m[37mwrite[39m[90m([39m[92m'some clear text data'[39m[90m)[39m[90m;[39m
    [37mcipher[39m[32m.[39m[37mend[39m[90m([39m[90m)[39m[90m;[39m

[0mExample: Using [33mCipher[39m and piped streams:[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mfs[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/fs'[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37malgorithm[39m [93m=[39m [92m'aes-192-cbc'[39m[90m;[39m
    [94mconst[39m [37mpassword[39m [93m=[39m [92m'Password used to generate key'[39m[90m;[39m
    [90m// Use the async `crypto.scrypt()` instead.[39m
    [94mconst[39m [37mkey[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mscryptSync[39m[90m([39m[37mpassword[39m[32m,[39m [92m'salt'[39m[32m,[39m [34m24[39m[90m)[39m[90m;[39m
    [90m// Use `crypto.randomBytes()` to generate a random iv instead of the static iv[39m
    [90m// shown here.[39m
    [94mconst[39m [37miv[39m [93m=[39m [37mBuffer[39m[32m.[39m[37malloc[39m[90m([39m[34m16[39m[32m,[39m [34m0[39m[90m)[39m[90m;[39m [90m// Initialization vector.[39m
    
    [94mconst[39m [37mcipher[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateCipheriv[39m[90m([39m[37malgorithm[39m[32m,[39m [37mkey[39m[32m,[39m [37miv[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37minput[39m [93m=[39m [37mfs[39m[32m.[39m[37mcreateReadStream[39m[90m([39m[92m'test.js'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37moutput[39m [93m=[39m [37mfs[39m[32m.[39m[37mcreateWriteStream[39m[90m([39m[92m'test.enc'[39m[90m)[39m[90m;[39m
    
    [37minput[39m[32m.[39m[37mpipe[39m[90m([39m[37mcipher[39m[90m)[39m[32m.[39m[37mpipe[39m[90m([39m[37moutput[39m[90m)[39m[90m;[39m

[0mExample: Using the [[33mcipher.update()[39m][] and [[33mcipher.final()[39m][] methods:[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37malgorithm[39m [93m=[39m [92m'aes-192-cbc'[39m[90m;[39m
    [94mconst[39m [37mpassword[39m [93m=[39m [92m'Password used to generate key'[39m[90m;[39m
    [90m// Use the async `crypto.scrypt()` instead.[39m
    [94mconst[39m [37mkey[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mscryptSync[39m[90m([39m[37mpassword[39m[32m,[39m [92m'salt'[39m[32m,[39m [34m24[39m[90m)[39m[90m;[39m
    [90m// Use `crypto.randomBytes` to generate a random iv instead of the static iv[39m
    [90m// shown here.[39m
    [94mconst[39m [37miv[39m [93m=[39m [37mBuffer[39m[32m.[39m[37malloc[39m[90m([39m[34m16[39m[32m,[39m [34m0[39m[90m)[39m[90m;[39m [90m// Initialization vector.[39m
    
    [94mconst[39m [37mcipher[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateCipheriv[39m[90m([39m[37malgorithm[39m[32m,[39m [37mkey[39m[32m,[39m [37miv[39m[90m)[39m[90m;[39m
    
    [94mlet[39m [37mencrypted[39m [93m=[39m [37mcipher[39m[32m.[39m[37mupdate[39m[90m([39m[92m'some clear text data'[39m[32m,[39m [92m'utf8'[39m[32m,[39m [92m'hex'[39m[90m)[39m[90m;[39m
    [37mencrypted[39m [93m+=[39m [37mcipher[39m[32m.[39m[37mfinal[39m[90m([39m[92m'hex'[39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mencrypted[39m[90m)[39m[90m;[39m
    [90m// Prints: e5f79c5915c02171eec6b212d5520d44480993d7d622a7c4c2da32f6efda0ffa[39m

[32m[1m### [33mcipher.final([outputEncoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.94[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33moutputEncoding[39m {string} The [encoding][] of the return value.[0m
    * [0mReturns: {Buffer | string} Any remaining enciphered contents.[0m
      [0mIf [33moutputEncoding[39m is specified, a string is[0m
      [0mreturned. If an [33moutputEncoding[39m is not provided, a [[33mBuffer[39m][] is returned.[0m

[0mOnce the [33mcipher.final()[39m method has been called, the [33mCipher[39m object can no[0m
[0mlonger be used to encrypt data. Attempts to call [33mcipher.final()[39m more than[0m
[0monce will result in an error being thrown.[0m

[32m[1m### [33mcipher.setAAD(buffer[, options])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v1.0.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mbuffer[39m {Buffer | TypedArray | DataView}[0m
    * [0m[33moptions[39m {Object} [[33mstream.transform[39m options][]
        * [0m[0m[33mplaintextLength[39m {number}[0m[0m[0m
    * [0mReturns: {Cipher} for method chaining.[0m

[0mWhen using an authenticated encryption mode ([33mGCM[39m, [33mCCM[39m and [33mOCB[39m are[0m
[0mcurrently supported), the [33mcipher.setAAD()[39m method sets the value used for the[0m
[0m[3madditional authenticated data[23m (AAD) input parameter.[0m

[0mThe [33moptions[39m argument is optional for [33mGCM[39m and [33mOCB[39m. When using [33mCCM[39m, the[0m
[0m[33mplaintextLength[39m option must be specified and its value must match the length[0m
[0mof the plaintext in bytes. See [CCM mode][].[0m

[0mThe [33mcipher.setAAD()[39m method must be called before [[33mcipher.update()[39m][].[0m

[32m[1m### [33mcipher.getAuthTag()[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v1.0.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0mReturns: {Buffer} When using an authenticated encryption mode ([33mGCM[39m, [33mCCM[39m[0m
      [0mand [33mOCB[39m are currently supported), the [33mcipher.getAuthTag()[39m method returns a[0m
      [0m[[33mBuffer[39m][] containing the [3mauthentication tag[23m that has been computed from[0m
      [0mthe given data.[0m

[0mThe [33mcipher.getAuthTag()[39m method should only be called after encryption has[0m
[0mbeen completed using the [[33mcipher.final()[39m][] method.[0m

[32m[1m### [33mcipher.setAutoPadding([autoPadding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.7.1[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mautoPadding[39m {boolean} [1mDefault:[22m [33mtrue[39m[0m
    * [0mReturns: {Cipher} for method chaining.[0m

[0mWhen using block encryption algorithms, the [33mCipher[39m class will automatically[0m
[0madd padding to the input data to the appropriate block size. To disable the[0m
[0mdefault padding call [33mcipher.setAutoPadding(false)[39m.[0m

[0mWhen [33mautoPadding[39m is [33mfalse[39m, the length of the entire input data must be a[0m
[0mmultiple of the cipher's block size or [[33mcipher.final()[39m][] will throw an error.[0m
[0mDisabling automatic padding is useful for non-standard padding, for instance[0m
[0musing [33m0x0[39m instead of PKCS padding.[0m

[0mThe [33mcipher.setAutoPadding()[39m method must be called before[0m
[0m[[33mcipher.final()[39m][].[0m

[32m[1m### [33mcipher.update(data[, inputEncoding][, outputEncoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.94[39m
[90mchanges:[39m
[90m  - version: v6.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/5522[39m
[90m    description: The default `inputEncoding` changed from `binary` to `utf8`.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mdata[39m {string | Buffer | TypedArray | DataView}[0m
    * [0m[33minputEncoding[39m {string} The [encoding][] of the data.[0m
    * [0m[33moutputEncoding[39m {string} The [encoding][] of the return value.[0m
    * [0mReturns: {Buffer | string}[0m

[0mUpdates the cipher with [33mdata[39m. If the [33minputEncoding[39m argument is given,[0m
[0mthe [33mdata[39m[0m
[0margument is a string using the specified encoding. If the [33minputEncoding[39m[0m
[0margument is not given, [33mdata[39m must be a [[33mBuffer[39m][], [33mTypedArray[39m, or[0m
[0m[33mDataView[39m. If [33mdata[39m is a [[33mBuffer[39m][], [33mTypedArray[39m, or [33mDataView[39m, then[0m
[0m[33minputEncoding[39m is ignored.[0m

[0mThe [33moutputEncoding[39m specifies the output format of the enciphered[0m
[0mdata. If the [33moutputEncoding[39m[0m
[0mis specified, a string using the specified encoding is returned. If no[0m
[0m[33moutputEncoding[39m is provided, a [[33mBuffer[39m][] is returned.[0m

[0mThe [33mcipher.update()[39m method can be called multiple times with new data until[0m
[0m[[33mcipher.final()[39m][] is called. Calling [33mcipher.update()[39m after[0m
[0m[[33mcipher.final()[39m][] will result in an error being thrown.[0m

[32m[1m## Class: [33mDecipher[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.94[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0mExtends: {stream.Transform}[0m

[0mInstances of the [33mDecipher[39m class are used to decrypt data. The class can be[0m
[0mused in one of two ways:[0m

    * [0mAs a [stream][] that is both readable and writable, where plain encrypted[0m
      [0mdata is written to produce unencrypted data on the readable side, or[0m
    * [0mUsing the [[33mdecipher.update()[39m][] and [[33mdecipher.final()[39m][] methods to[0m
      [0mproduce the unencrypted data.[0m

[0mThe [[33mcrypto.createDecipher()[39m][] or [[33mcrypto.createDecipheriv()[39m][] methods are[0m
[0mused to create [33mDecipher[39m instances. [33mDecipher[39m objects are not to be created[0m
[0mdirectly using the [33mnew[39m keyword.[0m

[0mExample: Using [33mDecipher[39m objects as streams:[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37malgorithm[39m [93m=[39m [92m'aes-192-cbc'[39m[90m;[39m
    [94mconst[39m [37mpassword[39m [93m=[39m [92m'Password used to generate key'[39m[90m;[39m
    [90m// Key length is dependent on the algorithm. In this case for aes192, it is[39m
    [90m// 24 bytes (192 bits).[39m
    [90m// Use the async `crypto.scrypt()` instead.[39m
    [94mconst[39m [37mkey[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mscryptSync[39m[90m([39m[37mpassword[39m[32m,[39m [92m'salt'[39m[32m,[39m [34m24[39m[90m)[39m[90m;[39m
    [90m// The IV is usually passed along with the ciphertext.[39m
    [94mconst[39m [37miv[39m [93m=[39m [37mBuffer[39m[32m.[39m[37malloc[39m[90m([39m[34m16[39m[32m,[39m [34m0[39m[90m)[39m[90m;[39m [90m// Initialization vector.[39m
    
    [94mconst[39m [37mdecipher[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateDecipheriv[39m[90m([39m[37malgorithm[39m[32m,[39m [37mkey[39m[32m,[39m [37miv[39m[90m)[39m[90m;[39m
    
    [94mlet[39m [37mdecrypted[39m [93m=[39m [92m''[39m[90m;[39m
    [37mdecipher[39m[32m.[39m[37mon[39m[90m([39m[92m'readable'[39m[32m,[39m [90m([39m[90m)[39m [93m=>[39m [33m{[39m
      [94mwhile[39m [90m([39m[90mnull[39m [93m!==[39m [90m([39m[37mchunk[39m [93m=[39m [37mdecipher[39m[32m.[39m[37mread[39m[90m([39m[90m)[39m[90m)[39m[90m)[39m [33m{[39m
        [37mdecrypted[39m [93m+=[39m [37mchunk[39m[32m.[39m[37mtoString[39m[90m([39m[92m'utf8'[39m[90m)[39m[90m;[39m
      [33m}[39m
    [33m}[39m[90m)[39m[90m;[39m
    [37mdecipher[39m[32m.[39m[37mon[39m[90m([39m[92m'end'[39m[32m,[39m [90m([39m[90m)[39m [93m=>[39m [33m{[39m
      [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mdecrypted[39m[90m)[39m[90m;[39m
      [90m// Prints: some clear text data[39m
    [33m}[39m[90m)[39m[90m;[39m
    
    [90m// Encrypted with same algorithm, key and iv.[39m
    [94mconst[39m [37mencrypted[39m [93m=[39m
      [92m'e5f79c5915c02171eec6b212d5520d44480993d7d622a7c4c2da32f6efda0ffa'[39m[90m;[39m
    [37mdecipher[39m[32m.[39m[37mwrite[39m[90m([39m[37mencrypted[39m[32m,[39m [92m'hex'[39m[90m)[39m[90m;[39m
    [37mdecipher[39m[32m.[39m[37mend[39m[90m([39m[90m)[39m[90m;[39m

[0mExample: Using [33mDecipher[39m and piped streams:[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mfs[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/fs'[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37malgorithm[39m [93m=[39m [92m'aes-192-cbc'[39m[90m;[39m
    [94mconst[39m [37mpassword[39m [93m=[39m [92m'Password used to generate key'[39m[90m;[39m
    [90m// Use the async `crypto.scrypt()` instead.[39m
    [94mconst[39m [37mkey[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mscryptSync[39m[90m([39m[37mpassword[39m[32m,[39m [92m'salt'[39m[32m,[39m [34m24[39m[90m)[39m[90m;[39m
    [90m// The IV is usually passed along with the ciphertext.[39m
    [94mconst[39m [37miv[39m [93m=[39m [37mBuffer[39m[32m.[39m[37malloc[39m[90m([39m[34m16[39m[32m,[39m [34m0[39m[90m)[39m[90m;[39m [90m// Initialization vector.[39m
    
    [94mconst[39m [37mdecipher[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateDecipheriv[39m[90m([39m[37malgorithm[39m[32m,[39m [37mkey[39m[32m,[39m [37miv[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37minput[39m [93m=[39m [37mfs[39m[32m.[39m[37mcreateReadStream[39m[90m([39m[92m'test.enc'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37moutput[39m [93m=[39m [37mfs[39m[32m.[39m[37mcreateWriteStream[39m[90m([39m[92m'test.js'[39m[90m)[39m[90m;[39m
    
    [37minput[39m[32m.[39m[37mpipe[39m[90m([39m[37mdecipher[39m[90m)[39m[32m.[39m[37mpipe[39m[90m([39m[37moutput[39m[90m)[39m[90m;[39m

[0mExample: Using the [[33mdecipher.update()[39m][] and [[33mdecipher.final()[39m][] methods:[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37malgorithm[39m [93m=[39m [92m'aes-192-cbc'[39m[90m;[39m
    [94mconst[39m [37mpassword[39m [93m=[39m [92m'Password used to generate key'[39m[90m;[39m
    [90m// Use the async `crypto.scrypt()` instead.[39m
    [94mconst[39m [37mkey[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mscryptSync[39m[90m([39m[37mpassword[39m[32m,[39m [92m'salt'[39m[32m,[39m [34m24[39m[90m)[39m[90m;[39m
    [90m// The IV is usually passed along with the ciphertext.[39m
    [94mconst[39m [37miv[39m [93m=[39m [37mBuffer[39m[32m.[39m[37malloc[39m[90m([39m[34m16[39m[32m,[39m [34m0[39m[90m)[39m[90m;[39m [90m// Initialization vector.[39m
    
    [94mconst[39m [37mdecipher[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateDecipheriv[39m[90m([39m[37malgorithm[39m[32m,[39m [37mkey[39m[32m,[39m [37miv[39m[90m)[39m[90m;[39m
    
    [90m// Encrypted using same algorithm, key and iv.[39m
    [94mconst[39m [37mencrypted[39m [93m=[39m
      [92m'e5f79c5915c02171eec6b212d5520d44480993d7d622a7c4c2da32f6efda0ffa'[39m[90m;[39m
    [94mlet[39m [37mdecrypted[39m [93m=[39m [37mdecipher[39m[32m.[39m[37mupdate[39m[90m([39m[37mencrypted[39m[32m,[39m [92m'hex'[39m[32m,[39m [92m'utf8'[39m[90m)[39m[90m;[39m
    [37mdecrypted[39m [93m+=[39m [37mdecipher[39m[32m.[39m[37mfinal[39m[90m([39m[92m'utf8'[39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mdecrypted[39m[90m)[39m[90m;[39m
    [90m// Prints: some clear text data[39m

[32m[1m### [33mdecipher.final([outputEncoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.94[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33moutputEncoding[39m {string} The [encoding][] of the return value.[0m
    * [0mReturns: {Buffer | string} Any remaining deciphered contents.[0m
      [0mIf [33moutputEncoding[39m is specified, a string is[0m
      [0mreturned. If an [33moutputEncoding[39m is not provided, a [[33mBuffer[39m][] is returned.[0m

[0mOnce the [33mdecipher.final()[39m method has been called, the [33mDecipher[39m object can[0m
[0mno longer be used to decrypt data. Attempts to call [33mdecipher.final()[39m more[0m
[0mthan once will result in an error being thrown.[0m

[32m[1m### [33mdecipher.setAAD(buffer[, options])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v1.0.0[39m
[90mchanges:[39m
[90m  - version: v7.2.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/9398[39m
[90m    description: This method now returns a reference to `decipher`.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mbuffer[39m {Buffer | TypedArray | DataView}[0m
    * [0m[33moptions[39m {Object} [[33mstream.transform[39m options][]
        * [0m[0m[33mplaintextLength[39m {number}[0m[0m[0m
    * [0mReturns: {Decipher} for method chaining.[0m

[0mWhen using an authenticated encryption mode ([33mGCM[39m, [33mCCM[39m and [33mOCB[39m are[0m
[0mcurrently supported), the [33mdecipher.setAAD()[39m method sets the value used for the[0m
[0m[3madditional authenticated data[23m (AAD) input parameter.[0m

[0mThe [33moptions[39m argument is optional for [33mGCM[39m. When using [33mCCM[39m, the[0m
[0m[33mplaintextLength[39m option must be specified and its value must match the length[0m
[0mof the plaintext in bytes. See [CCM mode][].[0m

[0mThe [33mdecipher.setAAD()[39m method must be called before [[33mdecipher.update()[39m][].[0m

[32m[1m### [33mdecipher.setAuthTag(buffer)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v1.0.0[39m
[90mchanges:[39m
[90m  - version: v11.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/17825[39m
[90m    description: This method now throws if the GCM tag length is invalid.[39m
[90m  - version: v7.2.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/9398[39m
[90m    description: This method now returns a reference to `decipher`.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mbuffer[39m {Buffer | TypedArray | DataView}[0m
    * [0mReturns: {Decipher} for method chaining.[0m

[0mWhen using an authenticated encryption mode ([33mGCM[39m, [33mCCM[39m and [33mOCB[39m are[0m
[0mcurrently supported), the [33mdecipher.setAuthTag()[39m method is used to pass in the[0m
[0mreceived [3mauthentication tag[23m. If no tag is provided, or if the cipher text[0m
[0mhas been tampered with, [[33mdecipher.final()[39m][] will throw, indicating that the[0m
[0mcipher text should be discarded due to failed authentication. If the tag length[0m
[0mis invalid according to [NIST SP 800-38D][] or does not match the value of the[0m
[0m[33mauthTagLength[39m option, [33mdecipher.setAuthTag()[39m will throw an error.[0m

[0mThe [33mdecipher.setAuthTag()[39m method must be called before[0m
[0m[[33mdecipher.final()[39m][] and can only be called once.[0m

[32m[1m### [33mdecipher.setAutoPadding([autoPadding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.7.1[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mautoPadding[39m {boolean} [1mDefault:[22m [33mtrue[39m[0m
    * [0mReturns: {Decipher} for method chaining.[0m

[0mWhen data has been encrypted without standard block padding, calling[0m
[0m[33mdecipher.setAutoPadding(false)[39m will disable automatic padding to prevent[0m
[0m[[33mdecipher.final()[39m][] from checking for and removing padding.[0m

[0mTurning auto padding off will only work if the input data's length is a[0m
[0mmultiple of the ciphers block size.[0m

[0mThe [33mdecipher.setAutoPadding()[39m method must be called before[0m
[0m[[33mdecipher.final()[39m][].[0m

[32m[1m### [33mdecipher.update(data[, inputEncoding][, outputEncoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.94[39m
[90mchanges:[39m
[90m  - version: v6.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/5522[39m
[90m    description: The default `inputEncoding` changed from `binary` to `utf8`.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mdata[39m {string | Buffer | TypedArray | DataView}[0m
    * [0m[33minputEncoding[39m {string} The [encoding][] of the [33mdata[39m string.[0m
    * [0m[33moutputEncoding[39m {string} The [encoding][] of the return value.[0m
    * [0mReturns: {Buffer | string}[0m

[0mUpdates the decipher with [33mdata[39m. If the [33minputEncoding[39m argument is given,[0m
[0mthe [33mdata[39m[0m
[0margument is a string using the specified encoding. If the [33minputEncoding[39m[0m
[0margument is not given, [33mdata[39m must be a [[33mBuffer[39m][]. If [33mdata[39m is a[0m
[0m[[33mBuffer[39m][] then [33minputEncoding[39m is ignored.[0m

[0mThe [33moutputEncoding[39m specifies the output format of the enciphered[0m
[0mdata. If the [33moutputEncoding[39m[0m
[0mis specified, a string using the specified encoding is returned. If no[0m
[0m[33moutputEncoding[39m is provided, a [[33mBuffer[39m][] is returned.[0m

[0mThe [33mdecipher.update()[39m method can be called multiple times with new data until[0m
[0m[[33mdecipher.final()[39m][] is called. Calling [33mdecipher.update()[39m after[0m
[0m[[33mdecipher.final()[39m][] will result in an error being thrown.[0m

[32m[1m## Class: [33mDiffieHellman[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.5.0[39m
[90m-->[39m
[90m[39m
[90m[39m[0mThe [33mDiffieHellman[39m class is a utility for creating Diffie-Hellman key[0m
[0mexchanges.[0m

[0mInstances of the [33mDiffieHellman[39m class can be created using the[0m
[0m[[33mcrypto.createDiffieHellman()[39m][] function.[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37massert[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/assert'[39m[90m)[39m[90m;[39m
    
    [90m// Generate Alice's keys...[39m
    [94mconst[39m [37malice[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateDiffieHellman[39m[90m([39m[34m2048[39m[90m)[39m[90m;[39m
    [94mconst[39m [37maliceKey[39m [93m=[39m [37malice[39m[32m.[39m[37mgenerateKeys[39m[90m([39m[90m)[39m[90m;[39m
    
    [90m// Generate Bob's keys...[39m
    [94mconst[39m [37mbob[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateDiffieHellman[39m[90m([39m[37malice[39m[32m.[39m[37mgetPrime[39m[90m([39m[90m)[39m[32m,[39m [37malice[39m[32m.[39m[37mgetGenerator[39m[90m([39m[90m)[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mbobKey[39m [93m=[39m [37mbob[39m[32m.[39m[37mgenerateKeys[39m[90m([39m[90m)[39m[90m;[39m
    
    [90m// Exchange and generate the secret...[39m
    [94mconst[39m [37maliceSecret[39m [93m=[39m [37malice[39m[32m.[39m[37mcomputeSecret[39m[90m([39m[37mbobKey[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mbobSecret[39m [93m=[39m [37mbob[39m[32m.[39m[37mcomputeSecret[39m[90m([39m[37maliceKey[39m[90m)[39m[90m;[39m
    
    [90m// OK[39m
    [37massert[39m[32m.[39m[37mstrictEqual[39m[90m([39m[37maliceSecret[39m[32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m[32m,[39m [37mbobSecret[39m[32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m

[32m[1m### [33mdiffieHellman.computeSecret(otherPublicKey[, inputEncoding][, outputEncoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.5.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33motherPublicKey[39m {string | Buffer | TypedArray | DataView}[0m
    * [0m[33minputEncoding[39m {string} The [encoding][] of an [33motherPublicKey[39m string.[0m
    * [0m[33moutputEncoding[39m {string} The [encoding][] of the return value.[0m
    * [0mReturns: {Buffer | string}[0m

[0mComputes the shared secret using [33motherPublicKey[39m as the other[0m
[0mparty's public key and returns the computed shared secret. The supplied[0m
[0mkey is interpreted using the specified [33minputEncoding[39m, and secret is[0m
[0mencoded using specified [33moutputEncoding[39m.[0m
[0mIf the [33minputEncoding[39m is not[0m
[0mprovided, [33motherPublicKey[39m is expected to be a [[33mBuffer[39m][],[0m
[0m[33mTypedArray[39m, or [33mDataView[39m.[0m

[0mIf [33moutputEncoding[39m is given a string is returned; otherwise, a[0m
[0m[[33mBuffer[39m][] is returned.[0m

[32m[1m### [33mdiffieHellman.generateKeys([encoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.5.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mencoding[39m {string} The [encoding][] of the return value.[0m
    * [0mReturns: {Buffer | string}[0m

[0mGenerates private and public Diffie-Hellman key values, and returns[0m
[0mthe public key in the specified [33mencoding[39m. This key should be[0m
[0mtransferred to the other party.[0m
[0mIf [33mencoding[39m is provided a string is returned; otherwise a[0m
[0m[[33mBuffer[39m][] is returned.[0m

[32m[1m### [33mdiffieHellman.getGenerator([encoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.5.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mencoding[39m {string} The [encoding][] of the return value.[0m
    * [0mReturns: {Buffer | string}[0m

[0mReturns the Diffie-Hellman generator in the specified [33mencoding[39m.[0m
[0mIf [33mencoding[39m is provided a string is[0m
[0mreturned; otherwise a [[33mBuffer[39m][] is returned.[0m

[32m[1m### [33mdiffieHellman.getPrime([encoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.5.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mencoding[39m {string} The [encoding][] of the return value.[0m
    * [0mReturns: {Buffer | string}[0m

[0mReturns the Diffie-Hellman prime in the specified [33mencoding[39m.[0m
[0mIf [33mencoding[39m is provided a string is[0m
[0mreturned; otherwise a [[33mBuffer[39m][] is returned.[0m

[32m[1m### [33mdiffieHellman.getPrivateKey([encoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.5.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mencoding[39m {string} The [encoding][] of the return value.[0m
    * [0mReturns: {Buffer | string}[0m

[0mReturns the Diffie-Hellman private key in the specified [33mencoding[39m.[0m
[0mIf [33mencoding[39m is provided a[0m
[0mstring is returned; otherwise a [[33mBuffer[39m][] is returned.[0m

[32m[1m### [33mdiffieHellman.getPublicKey([encoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.5.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mencoding[39m {string} The [encoding][] of the return value.[0m
    * [0mReturns: {Buffer | string}[0m

[0mReturns the Diffie-Hellman public key in the specified [33mencoding[39m.[0m
[0mIf [33mencoding[39m is provided a[0m
[0mstring is returned; otherwise a [[33mBuffer[39m][] is returned.[0m

[32m[1m### [33mdiffieHellman.setPrivateKey(privateKey[, encoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.5.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mprivateKey[39m {string | Buffer | TypedArray | DataView}[0m
    * [0m[33mencoding[39m {string} The [encoding][] of the [33mprivateKey[39m string.[0m

[0mSets the Diffie-Hellman private key. If the [33mencoding[39m argument is provided,[0m
[0m[33mprivateKey[39m is expected[0m
[0mto be a string. If no [33mencoding[39m is provided, [33mprivateKey[39m is expected[0m
[0mto be a [[33mBuffer[39m][], [33mTypedArray[39m, or [33mDataView[39m.[0m

[32m[1m### [33mdiffieHellman.setPublicKey(publicKey[, encoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.5.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mpublicKey[39m {string | Buffer | TypedArray | DataView}[0m
    * [0m[33mencoding[39m {string} The [encoding][] of the [33mpublicKey[39m string.[0m

[0mSets the Diffie-Hellman public key. If the [33mencoding[39m argument is provided,[0m
[0m[33mpublicKey[39m is expected[0m
[0mto be a string. If no [33mencoding[39m is provided, [33mpublicKey[39m is expected[0m
[0mto be a [[33mBuffer[39m][], [33mTypedArray[39m, or [33mDataView[39m.[0m

[32m[1m### [33mdiffieHellman.verifyError[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.11.12[39m
[90m-->[39m
[90m[39m
[90m[39m[0mA bit field containing any warnings and/or errors resulting from a check[0m
[0mperformed during initialization of the [33mDiffieHellman[39m object.[0m

[0mThe following values are valid for this property (as defined in [33mconstants[39m[0m
[0mmodule):[0m

    * [0m[33mDH_CHECK_P_NOT_SAFE_PRIME[39m[0m
    * [0m[33mDH_CHECK_P_NOT_PRIME[39m[0m
    * [0m[33mDH_UNABLE_TO_CHECK_GENERATOR[39m[0m
    * [0m[33mDH_NOT_SUITABLE_GENERATOR[39m[0m

[32m[1m## Class: [33mDiffieHellmanGroup[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.7.5[39m
[90m-->[39m
[90m[39m
[90m[39m[0mThe [33mDiffieHellmanGroup[39m class takes a well-known modp group as its argument but[0m
[0motherwise works the same as [33mDiffieHellman[39m.[0m

    [94mconst[39m [37mname[39m [93m=[39m [92m'modp1'[39m[90m;[39m
    [94mconst[39m [37mdh[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateDiffieHellmanGroup[39m[90m([39m[37mname[39m[90m)[39m[90m;[39m

[0m[33mname[39m is taken from [RFC 2412][] (modp1 and 2) and [RFC 3526][]:[0m

    [33m$ perl -ne 'print "$1\n" if /"(modp\d+)"/' src/node_crypto_groups.h[39m
    [33mmodp1  #  768 bits[39m
    [33mmodp2  # 1024 bits[39m
    [33mmodp5  # 1536 bits[39m
    [33mmodp14 # 2048 bits[39m
    [33mmodp15 # etc.[39m
    [33mmodp16[39m
    [33mmodp17[39m
    [33mmodp18[39m

[32m[1m## Class: [33mECDH[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.11.14[39m
[90m-->[39m
[90m[39m
[90m[39m[0mThe [33mECDH[39m class is a utility for creating Elliptic Curve Diffie-Hellman (ECDH)[0m
[0mkey exchanges.[0m

[0mInstances of the [33mECDH[39m class can be created using the[0m
[0m[[33mcrypto.createECDH()[39m][] function.[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37massert[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/assert'[39m[90m)[39m[90m;[39m
    
    [90m// Generate Alice's keys...[39m
    [94mconst[39m [37malice[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateECDH[39m[90m([39m[92m'secp521r1'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37maliceKey[39m [93m=[39m [37malice[39m[32m.[39m[37mgenerateKeys[39m[90m([39m[90m)[39m[90m;[39m
    
    [90m// Generate Bob's keys...[39m
    [94mconst[39m [37mbob[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateECDH[39m[90m([39m[92m'secp521r1'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mbobKey[39m [93m=[39m [37mbob[39m[32m.[39m[37mgenerateKeys[39m[90m([39m[90m)[39m[90m;[39m
    
    [90m// Exchange and generate the secret...[39m
    [94mconst[39m [37maliceSecret[39m [93m=[39m [37malice[39m[32m.[39m[37mcomputeSecret[39m[90m([39m[37mbobKey[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mbobSecret[39m [93m=[39m [37mbob[39m[32m.[39m[37mcomputeSecret[39m[90m([39m[37maliceKey[39m[90m)[39m[90m;[39m
    
    [37massert[39m[32m.[39m[37mstrictEqual[39m[90m([39m[37maliceSecret[39m[32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m[32m,[39m [37mbobSecret[39m[32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m
    [90m// OK[39m

[32m[1m### Class Method: [33mECDH.convertKey(key, curve[, inputEncoding[, outputEncoding[, format]]])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v10.0.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mkey[39m {string | Buffer | TypedArray | DataView}[0m
    * [0m[33mcurve[39m {string}[0m
    * [0m[33minputEncoding[39m {string} The [encoding][] of the [33mkey[39m string.[0m
    * [0m[33moutputEncoding[39m {string} The [encoding][] of the return value.[0m
    * [0m[33mformat[39m {string} [1mDefault:[22m [33m'uncompressed'[39m[0m
    * [0mReturns: {Buffer | string}[0m

[0mConverts the EC Diffie-Hellman public key specified by [33mkey[39m and [33mcurve[39m to the[0m
[0mformat specified by [33mformat[39m. The [33mformat[39m argument specifies point encoding[0m
[0mand can be [33m'compressed'[39m, [33m'uncompressed'[39m or [33m'hybrid'[39m. The supplied key is[0m
[0minterpreted using the specified [33minputEncoding[39m, and the returned key is encoded[0m
[0musing the specified [33moutputEncoding[39m.[0m

[0mUse [[33mcrypto.getCurves()[39m][] to obtain a list of available curve names.[0m
[0mOn recent OpenSSL releases, [33mopenssl ecparam -list_curves[39m will also display[0m
[0mthe name and description of each available elliptic curve.[0m

[0mIf [33mformat[39m is not specified the point will be returned in [33m'uncompressed'[39m[0m
[0mformat.[0m

[0mIf the [33minputEncoding[39m is not provided, [33mkey[39m is expected to be a [[33mBuffer[39m][],[0m
[0m[33mTypedArray[39m, or [33mDataView[39m.[0m

[0mExample (uncompressing a key):[0m

    [94mconst[39m [33m{[39m [37mcreateECDH[39m[32m,[39m [37mECDH[39m [33m}[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37mecdh[39m [93m=[39m [37mcreateECDH[39m[90m([39m[92m'secp256k1'[39m[90m)[39m[90m;[39m
    [37mecdh[39m[32m.[39m[37mgenerateKeys[39m[90m([39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37mcompressedKey[39m [93m=[39m [37mecdh[39m[32m.[39m[37mgetPublicKey[39m[90m([39m[92m'hex'[39m[32m,[39m [92m'compressed'[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37muncompressedKey[39m [93m=[39m [37mECDH[39m[32m.[39m[37mconvertKey[39m[90m([39m[37mcompressedKey[39m[32m,[39m
                                            [92m'secp256k1'[39m[32m,[39m
                                            [92m'hex'[39m[32m,[39m
                                            [92m'hex'[39m[32m,[39m
                                            [92m'uncompressed'[39m[90m)[39m[90m;[39m
    
    [90m// The converted key and the uncompressed public key should be the same[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37muncompressedKey[39m [93m===[39m [37mecdh[39m[32m.[39m[37mgetPublicKey[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m

[32m[1m### [33mecdh.computeSecret(otherPublicKey[, inputEncoding][, outputEncoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.11.14[39m
[90mchanges:[39m
[90m  - version: v6.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/5522[39m
[90m    description: The default `inputEncoding` changed from `binary` to `utf8`[39m
[90m  - version: v10.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/16849[39m
[90m    description: Changed error format to better support invalid public key[39m
[90m                 error[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33motherPublicKey[39m {string | Buffer | TypedArray | DataView}[0m
    * [0m[33minputEncoding[39m {string} The [encoding][] of the [33motherPublicKey[39m string.[0m
    * [0m[33moutputEncoding[39m {string} The [encoding][] of the return value.[0m
    * [0mReturns: {Buffer | string}[0m

[0mComputes the shared secret using [33motherPublicKey[39m as the other[0m
[0mparty's public key and returns the computed shared secret. The supplied[0m
[0mkey is interpreted using specified [33minputEncoding[39m, and the returned secret[0m
[0mis encoded using the specified [33moutputEncoding[39m.[0m
[0mIf the [33minputEncoding[39m is not[0m
[0mprovided, [33motherPublicKey[39m is expected to be a [[33mBuffer[39m][], [33mTypedArray[39m, or[0m
[0m[33mDataView[39m.[0m

[0mIf [33moutputEncoding[39m is given a string will be returned; otherwise a[0m
[0m[[33mBuffer[39m][] is returned.[0m

[0m[33mecdh.computeSecret[39m will throw an[0m
[0m[33mERR_CRYPTO_ECDH_INVALID_PUBLIC_KEY[39m error when [33motherPublicKey[39m[0m
[0mlies outside of the elliptic curve. Since [33motherPublicKey[39m is[0m
[0musually supplied from a remote user over an insecure network,[0m
[0mits recommended for developers to handle this exception accordingly.[0m

[32m[1m### [33mecdh.generateKeys([encoding[, format]])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.11.14[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mencoding[39m {string} The [encoding][] of the return value.[0m
    * [0m[33mformat[39m {string} [1mDefault:[22m [33m'uncompressed'[39m[0m
    * [0mReturns: {Buffer | string}[0m

[0mGenerates private and public EC Diffie-Hellman key values, and returns[0m
[0mthe public key in the specified [33mformat[39m and [33mencoding[39m. This key should be[0m
[0mtransferred to the other party.[0m

[0mThe [33mformat[39m argument specifies point encoding and can be [33m'compressed'[39m or[0m
[0m[33m'uncompressed'[39m. If [33mformat[39m is not specified, the point will be returned in[0m
[0m[33m'uncompressed'[39m format.[0m

[0mIf [33mencoding[39m is provided a string is returned; otherwise a [[33mBuffer[39m][][0m
[0mis returned.[0m

[32m[1m### [33mecdh.getPrivateKey([encoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.11.14[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mencoding[39m {string} The [encoding][] of the return value.[0m
    * [0mReturns: {Buffer | string} The EC Diffie-Hellman in the specified [33mencoding[39m.[0m

[0mIf [33mencoding[39m is specified, a string is returned; otherwise a [[33mBuffer[39m][] is[0m
[0mreturned.[0m

[32m[1m### [33mecdh.getPublicKey([encoding][, format])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.11.14[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mencoding[39m {string} The [encoding][] of the return value.[0m
    * [0m[33mformat[39m {string} [1mDefault:[22m [33m'uncompressed'[39m[0m
    * [0mReturns: {Buffer | string} The EC Diffie-Hellman public key in the specified[0m
      [0m[33mencoding[39m and [33mformat[39m.[0m

[0mThe [33mformat[39m argument specifies point encoding and can be [33m'compressed'[39m or[0m
[0m[33m'uncompressed'[39m. If [33mformat[39m is not specified the point will be returned in[0m
[0m[33m'uncompressed'[39m format.[0m

[0mIf [33mencoding[39m is specified, a string is returned; otherwise a [[33mBuffer[39m][] is[0m
[0mreturned.[0m

[32m[1m### [33mecdh.setPrivateKey(privateKey[, encoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.11.14[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mprivateKey[39m {string | Buffer | TypedArray | DataView}[0m
    * [0m[33mencoding[39m {string} The [encoding][] of the [33mprivateKey[39m string.[0m

[0mSets the EC Diffie-Hellman private key.[0m
[0mIf [33mencoding[39m is provided, [33mprivateKey[39m is expected[0m
[0mto be a string; otherwise [33mprivateKey[39m is expected to be a [[33mBuffer[39m][],[0m
[0m[33mTypedArray[39m, or [33mDataView[39m.[0m

[0mIf [33mprivateKey[39m is not valid for the curve specified when the [33mECDH[39m object was[0m
[0mcreated, an error is thrown. Upon setting the private key, the associated[0m
[0mpublic point (key) is also generated and set in the [33mECDH[39m object.[0m

[32m[1m### [33mecdh.setPublicKey(publicKey[, encoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.11.14[39m
[90mdeprecated: v5.2.0[39m
[90m-->[39m
[90m[39m
[90m[39m[90m[3m    [0mStability: 0 - Deprecated[0m[23m[39m

    * [0m[33mpublicKey[39m {string | Buffer | TypedArray | DataView}[0m
    * [0m[33mencoding[39m {string} The [encoding][] of the [33mpublicKey[39m string.[0m

[0mSets the EC Diffie-Hellman public key.[0m
[0mIf [33mencoding[39m is provided [33mpublicKey[39m is expected to[0m
[0mbe a string; otherwise a [[33mBuffer[39m][], [33mTypedArray[39m, or [33mDataView[39m is expected.[0m

[0mThere is not normally a reason to call this method because [33mECDH[39m[0m
[0monly requires a private key and the other party's public key to compute the[0m
[0mshared secret. Typically either [[33mecdh.generateKeys()[39m][] or[0m
[0m[[33mecdh.setPrivateKey()[39m][] will be called. The [[33mecdh.setPrivateKey()[39m][] method[0m
[0mattempts to generate the public point/key associated with the private key being[0m
[0mset.[0m

[0mExample (obtaining a shared secret):[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37malice[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateECDH[39m[90m([39m[92m'secp256k1'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mbob[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateECDH[39m[90m([39m[92m'secp256k1'[39m[90m)[39m[90m;[39m
    
    [90m// This is a shortcut way of specifying one of Alice's previous private[39m
    [90m// keys. It would be unwise to use such a predictable private key in a real[39m
    [90m// application.[39m
    [37malice[39m[32m.[39m[37msetPrivateKey[39m[90m([39m
      [37mcrypto[39m[32m.[39m[37mcreateHash[39m[90m([39m[92m'sha256'[39m[90m)[39m[32m.[39m[37mupdate[39m[90m([39m[92m'alice'[39m[32m,[39m [92m'utf8'[39m[90m)[39m[32m.[39m[37mdigest[39m[90m([39m[90m)[39m
    [90m)[39m[90m;[39m
    
    [90m// Bob uses a newly generated cryptographically strong[39m
    [90m// pseudorandom key pair[39m
    [37mbob[39m[32m.[39m[37mgenerateKeys[39m[90m([39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37maliceSecret[39m [93m=[39m [37malice[39m[32m.[39m[37mcomputeSecret[39m[90m([39m[37mbob[39m[32m.[39m[37mgetPublicKey[39m[90m([39m[90m)[39m[32m,[39m [90mnull[39m[32m,[39m [92m'hex'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mbobSecret[39m [93m=[39m [37mbob[39m[32m.[39m[37mcomputeSecret[39m[90m([39m[37malice[39m[32m.[39m[37mgetPublicKey[39m[90m([39m[90m)[39m[32m,[39m [90mnull[39m[32m,[39m [92m'hex'[39m[90m)[39m[90m;[39m
    
    [90m// aliceSecret and bobSecret should be the same shared secret value[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37maliceSecret[39m [93m===[39m [37mbobSecret[39m[90m)[39m[90m;[39m

[32m[1m## Class: [33mHash[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.92[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0mExtends: {stream.Transform}[0m

[0mThe [33mHash[39m class is a utility for creating hash digests of data. It can be[0m
[0mused in one of two ways:[0m

    * [0mAs a [stream][] that is both readable and writable, where data is written[0m
      [0mto produce a computed hash digest on the readable side, or[0m
    * [0mUsing the [[33mhash.update()[39m][] and [[33mhash.digest()[39m][] methods to produce the[0m
      [0mcomputed hash.[0m

[0mThe [[33mcrypto.createHash()[39m][] method is used to create [33mHash[39m instances. [33mHash[39m[0m
[0mobjects are not to be created directly using the [33mnew[39m keyword.[0m

[0mExample: Using [33mHash[39m objects as streams:[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mhash[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateHash[39m[90m([39m[92m'sha256'[39m[90m)[39m[90m;[39m
    
    [37mhash[39m[32m.[39m[37mon[39m[90m([39m[92m'readable'[39m[32m,[39m [90m([39m[90m)[39m [93m=>[39m [33m{[39m
      [90m// Only one element is going to be produced by the[39m
      [90m// hash stream.[39m
      [94mconst[39m [37mdata[39m [93m=[39m [37mhash[39m[32m.[39m[37mread[39m[90m([39m[90m)[39m[90m;[39m
      [94mif[39m [90m([39m[37mdata[39m[90m)[39m [33m{[39m
        [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mdata[39m[32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m
        [90m// Prints:[39m
        [90m//   6a2da20943931e9834fc12cfe5bb47bbd9ae43489a30726962b576f4e3993e50[39m
      [33m}[39m
    [33m}[39m[90m)[39m[90m;[39m
    
    [37mhash[39m[32m.[39m[37mwrite[39m[90m([39m[92m'some data to hash'[39m[90m)[39m[90m;[39m
    [37mhash[39m[32m.[39m[37mend[39m[90m([39m[90m)[39m[90m;[39m

[0mExample: Using [33mHash[39m and piped streams:[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mfs[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/fs'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mhash[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateHash[39m[90m([39m[92m'sha256'[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37minput[39m [93m=[39m [37mfs[39m[32m.[39m[37mcreateReadStream[39m[90m([39m[92m'test.js'[39m[90m)[39m[90m;[39m
    [37minput[39m[32m.[39m[37mpipe[39m[90m([39m[37mhash[39m[90m)[39m[32m.[39m[37mpipe[39m[90m([39m[37mprocess[39m[32m.[39m[37mstdout[39m[90m)[39m[90m;[39m

[0mExample: Using the [[33mhash.update()[39m][] and [[33mhash.digest()[39m][] methods:[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mhash[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateHash[39m[90m([39m[92m'sha256'[39m[90m)[39m[90m;[39m
    
    [37mhash[39m[32m.[39m[37mupdate[39m[90m([39m[92m'some data to hash'[39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mhash[39m[32m.[39m[37mdigest[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m
    [90m// Prints:[39m
    [90m//   6a2da20943931e9834fc12cfe5bb47bbd9ae43489a30726962b576f4e3993e50[39m

[32m[1m### [33mhash.copy([options])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v13.1.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33moptions[39m {Object} [[33mstream.transform[39m options][][0m
    * [0mReturns: {Hash}[0m

[0mCreates a new [33mHash[39m object that contains a deep copy of the internal state[0m
[0mof the current [33mHash[39m object.[0m

[0mThe optional [33moptions[39m argument controls stream behavior. For XOF hash[0m
[0mfunctions such as [33m'shake256'[39m, the [33moutputLength[39m option can be used to[0m
[0mspecify the desired output length in bytes.[0m

[0mAn error is thrown when an attempt is made to copy the [33mHash[39m object after[0m
[0mits [[33mhash.digest()[39m][] method has been called.[0m

    [90m// Calculate a rolling hash.[39m
    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mhash[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateHash[39m[90m([39m[92m'sha256'[39m[90m)[39m[90m;[39m
    
    [37mhash[39m[32m.[39m[37mupdate[39m[90m([39m[92m'one'[39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mhash[39m[32m.[39m[37mcopy[39m[90m([39m[90m)[39m[32m.[39m[37mdigest[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m
    
    [37mhash[39m[32m.[39m[37mupdate[39m[90m([39m[92m'two'[39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mhash[39m[32m.[39m[37mcopy[39m[90m([39m[90m)[39m[32m.[39m[37mdigest[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m
    
    [37mhash[39m[32m.[39m[37mupdate[39m[90m([39m[92m'three'[39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mhash[39m[32m.[39m[37mcopy[39m[90m([39m[90m)[39m[32m.[39m[37mdigest[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m
    
    [90m// Etc.[39m

[32m[1m### [33mhash.digest([encoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.92[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mencoding[39m {string} The [encoding][] of the return value.[0m
    * [0mReturns: {Buffer | string}[0m

[0mCalculates the digest of all of the data passed to be hashed (using the[0m
[0m[[33mhash.update()[39m][] method).[0m
[0mIf [33mencoding[39m is provided a string will be returned; otherwise[0m
[0ma [[33mBuffer[39m][] is returned.[0m

[0mThe [33mHash[39m object can not be used again after [33mhash.digest()[39m method has been[0m
[0mcalled. Multiple calls will cause an error to be thrown.[0m

[32m[1m### [33mhash.update(data[, inputEncoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.92[39m
[90mchanges:[39m
[90m  - version: v6.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/5522[39m
[90m    description: The default `inputEncoding` changed from `binary` to `utf8`.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mdata[39m {string | Buffer | TypedArray | DataView}[0m
    * [0m[33minputEncoding[39m {string} The [encoding][] of the [33mdata[39m string.[0m

[0mUpdates the hash content with the given [33mdata[39m, the encoding of which[0m
[0mis given in [33minputEncoding[39m.[0m
[0mIf [33mencoding[39m is not provided, and the [33mdata[39m is a string, an[0m
[0mencoding of [33m'utf8'[39m is enforced. If [33mdata[39m is a [[33mBuffer[39m][], [33mTypedArray[39m, or[0m
[0m[33mDataView[39m, then [33minputEncoding[39m is ignored.[0m

[0mThis can be called many times with new data as it is streamed.[0m

[32m[1m## Class: [33mHmac[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.94[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0mExtends: {stream.Transform}[0m

[0mThe [33mHmac[39m class is a utility for creating cryptographic HMAC digests. It can[0m
[0mbe used in one of two ways:[0m

    * [0mAs a [stream][] that is both readable and writable, where data is written[0m
      [0mto produce a computed HMAC digest on the readable side, or[0m
    * [0mUsing the [[33mhmac.update()[39m][] and [[33mhmac.digest()[39m][] methods to produce the[0m
      [0mcomputed HMAC digest.[0m

[0mThe [[33mcrypto.createHmac()[39m][] method is used to create [33mHmac[39m instances. [33mHmac[39m[0m
[0mobjects are not to be created directly using the [33mnew[39m keyword.[0m

[0mExample: Using [33mHmac[39m objects as streams:[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mhmac[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateHmac[39m[90m([39m[92m'sha256'[39m[32m,[39m [92m'a secret'[39m[90m)[39m[90m;[39m
    
    [37mhmac[39m[32m.[39m[37mon[39m[90m([39m[92m'readable'[39m[32m,[39m [90m([39m[90m)[39m [93m=>[39m [33m{[39m
      [90m// Only one element is going to be produced by the[39m
      [90m// hash stream.[39m
      [94mconst[39m [37mdata[39m [93m=[39m [37mhmac[39m[32m.[39m[37mread[39m[90m([39m[90m)[39m[90m;[39m
      [94mif[39m [90m([39m[37mdata[39m[90m)[39m [33m{[39m
        [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mdata[39m[32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m
        [90m// Prints:[39m
        [90m//   7fd04df92f636fd450bc841c9418e5825c17f33ad9c87c518115a45971f7f77e[39m
      [33m}[39m
    [33m}[39m[90m)[39m[90m;[39m
    
    [37mhmac[39m[32m.[39m[37mwrite[39m[90m([39m[92m'some data to hash'[39m[90m)[39m[90m;[39m
    [37mhmac[39m[32m.[39m[37mend[39m[90m([39m[90m)[39m[90m;[39m

[0mExample: Using [33mHmac[39m and piped streams:[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mfs[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/fs'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mhmac[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateHmac[39m[90m([39m[92m'sha256'[39m[32m,[39m [92m'a secret'[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37minput[39m [93m=[39m [37mfs[39m[32m.[39m[37mcreateReadStream[39m[90m([39m[92m'test.js'[39m[90m)[39m[90m;[39m
    [37minput[39m[32m.[39m[37mpipe[39m[90m([39m[37mhmac[39m[90m)[39m[32m.[39m[37mpipe[39m[90m([39m[37mprocess[39m[32m.[39m[37mstdout[39m[90m)[39m[90m;[39m

[0mExample: Using the [[33mhmac.update()[39m][] and [[33mhmac.digest()[39m][] methods:[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mhmac[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateHmac[39m[90m([39m[92m'sha256'[39m[32m,[39m [92m'a secret'[39m[90m)[39m[90m;[39m
    
    [37mhmac[39m[32m.[39m[37mupdate[39m[90m([39m[92m'some data to hash'[39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mhmac[39m[32m.[39m[37mdigest[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m
    [90m// Prints:[39m
    [90m//   7fd04df92f636fd450bc841c9418e5825c17f33ad9c87c518115a45971f7f77e[39m

[32m[1m### [33mhmac.digest([encoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.94[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mencoding[39m {string} The [encoding][] of the return value.[0m
    * [0mReturns: {Buffer | string}[0m

[0mCalculates the HMAC digest of all of the data passed using [[33mhmac.update()[39m][].[0m
[0mIf [33mencoding[39m is[0m
[0mprovided a string is returned; otherwise a [[33mBuffer[39m][] is returned;[0m

[0mThe [33mHmac[39m object can not be used again after [33mhmac.digest()[39m has been[0m
[0mcalled. Multiple calls to [33mhmac.digest()[39m will result in an error being thrown.[0m

[32m[1m### [33mhmac.update(data[, inputEncoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.94[39m
[90mchanges:[39m
[90m  - version: v6.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/5522[39m
[90m    description: The default `inputEncoding` changed from `binary` to `utf8`.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mdata[39m {string | Buffer | TypedArray | DataView}[0m
    * [0m[33minputEncoding[39m {string} The [encoding][] of the [33mdata[39m string.[0m

[0mUpdates the [33mHmac[39m content with the given [33mdata[39m, the encoding of which[0m
[0mis given in [33minputEncoding[39m.[0m
[0mIf [33mencoding[39m is not provided, and the [33mdata[39m is a string, an[0m
[0mencoding of [33m'utf8'[39m is enforced. If [33mdata[39m is a [[33mBuffer[39m][], [33mTypedArray[39m, or[0m
[0m[33mDataView[39m, then [33minputEncoding[39m is ignored.[0m

[0mThis can be called many times with new data as it is streamed.[0m

[32m[1m## Class: [33mKeyObject[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v11.6.0[39m
[90mchanges:[39m
[90m  - version: v11.13.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/26438[39m
[90m    description: This class is now exported.[39m
[90m-->[39m
[90m[39m
[90m[39m[0mNode.js uses a [33mKeyObject[39m class to represent a symmetric or asymmetric key,[0m
[0mand each kind of key exposes different functions. The[0m
[0m[[33mcrypto.createSecretKey()[39m][], [[33mcrypto.createPublicKey()[39m][] and[0m
[0m[[33mcrypto.createPrivateKey()[39m][] methods are used to create [33mKeyObject[39m[0m
[0minstances. [33mKeyObject[39m objects are not to be created directly using the [33mnew[39m[0m
[0mkeyword.[0m

[0mMost applications should consider using the new [33mKeyObject[39m API instead of[0m
[0mpassing keys as strings or [33mBuffer[39ms due to improved security features.[0m

[32m[1m### [33mkeyObject.asymmetricKeyType[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v11.6.0[39m
[90mchanges:[39m
[90m  - version: v13.9.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/31178[39m
[90m    description: Added support for `'dh'`.[39m
[90m  - version: v12.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/26960[39m
[90m    description: Added support for `'rsa-pss'`[39m
[90m  - version: v12.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/26786[39m
[90m    description: This property now returns `undefined` for KeyObject[39m
[90m                 instances of unrecognized type instead of aborting.[39m
[90m  - version: v12.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/26774[39m
[90m    description: Added support for `'x25519'` and `'x448'`[39m
[90m  - version: v12.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/26319[39m
[90m    description: Added support for `'ed25519'` and `'ed448'`.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m{string}[0m

[0mFor asymmetric keys, this property represents the type of the key. Supported key[0m
[0mtypes are:[0m

    * [0m[33m'rsa'[39m (OID 1.2.840.113549.1.1.1)[0m
    * [0m[33m'rsa-pss'[39m (OID 1.2.840.113549.1.1.10)[0m
    * [0m[33m'dsa'[39m (OID 1.2.840.10040.4.1)[0m
    * [0m[33m'ec'[39m (OID 1.2.840.10045.2.1)[0m
    * [0m[33m'x25519'[39m (OID 1.3.101.110)[0m
    * [0m[33m'x448'[39m (OID 1.3.101.111)[0m
    * [0m[33m'ed25519'[39m (OID 1.3.101.112)[0m
    * [0m[33m'ed448'[39m (OID 1.3.101.113)[0m
    * [0m[33m'dh'[39m (OID 1.2.840.113549.1.3.1)[0m

[0mThis property is [33mundefined[39m for unrecognized [33mKeyObject[39m types and symmetric[0m
[0mkeys.[0m

[32m[1m### [33mkeyObject.export([options])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v11.6.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33moptions[39m: {Object}[0m
    * [0mReturns: {string | Buffer}[0m

[0mFor symmetric keys, this function allocates a [33mBuffer[39m containing the key[0m
[0mmaterial and ignores any options.[0m

[0mFor asymmetric keys, the [33moptions[39m parameter is used to determine the export[0m
[0mformat.[0m

[0mFor public keys, the following encoding options can be used:[0m

    * [0m[33mtype[39m: {string} Must be one of [33m'pkcs1'[39m (RSA only) or [33m'spki'[39m.[0m
    * [0m[33mformat[39m: {string} Must be [33m'pem'[39m or [33m'der'[39m.[0m

[0mFor private keys, the following encoding options can be used:[0m

    * [0m[33mtype[39m: {string} Must be one of [33m'pkcs1'[39m (RSA only), [33m'pkcs8'[39m or[0m
      [0m[33m'sec1'[39m (EC only).[0m
    * [0m[33mformat[39m: {string} Must be [33m'pem'[39m or [33m'der'[39m.[0m
    * [0m[33mcipher[39m: {string} If specified, the private key will be encrypted with[0m
      [0m the given [33mcipher[39m and [33mpassphrase[39m using PKCS#5 v2.0 password based[0m
      [0m encryption.[0m
    * [0m[33mpassphrase[39m: {string | Buffer} The passphrase to use for encryption, see[0m
      [0m[33mcipher[39m.[0m

[0mWhen PEM encoding was selected, the result will be a string, otherwise it will[0m
[0mbe a buffer containing the data encoded as DER.[0m

[0mPKCS#1, SEC1, and PKCS#8 type keys can be encrypted by using a combination of[0m
[0mthe [33mcipher[39m and [33mformat[39m options. The PKCS#8 [33mtype[39m can be used with any[0m
[0m[33mformat[39m to encrypt any key algorithm (RSA, EC, or DH) by specifying a[0m
[0m[33mcipher[39m. PKCS#1 and SEC1 can only be encrypted by specifying a [33mcipher[39m[0m
[0mwhen the PEM [33mformat[39m is used. For maximum compatibility, use PKCS#8 for[0m
[0mencrypted private keys. Since PKCS#8 defines its own[0m
[0mencryption mechanism, PEM-level encryption is not supported when encrypting[0m
[0ma PKCS#8 key. See [RFC 5208][] for PKCS#8 encryption and [RFC 1421][] for[0m
[0mPKCS#1 and SEC1 encryption.[0m

[32m[1m### [33mkeyObject.symmetricKeySize[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v11.6.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m{number}[0m

[0mFor secret keys, this property represents the size of the key in bytes. This[0m
[0mproperty is [33mundefined[39m for asymmetric keys.[0m

[32m[1m### [33mkeyObject.type[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v11.6.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m{string}[0m

[0mDepending on the type of this [33mKeyObject[39m, this property is either[0m
[0m[33m'secret'[39m for secret (symmetric) keys, [33m'public'[39m for public (asymmetric) keys[0m
[0mor [33m'private'[39m for private (asymmetric) keys.[0m

[32m[1m## Class: [33mSign[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.92[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0mExtends: {stream.Writable}[0m

[0mThe [33mSign[39m class is a utility for generating signatures. It can be used in one[0m
[0mof two ways:[0m

    * [0mAs a writable [stream][], where data to be signed is written and the[0m
      [0m[[33msign.sign()[39m][] method is used to generate and return the signature, or[0m
    * [0mUsing the [[33msign.update()[39m][] and [[33msign.sign()[39m][] methods to produce the[0m
      [0msignature.[0m

[0mThe [[33mcrypto.createSign()[39m][] method is used to create [33mSign[39m instances. The[0m
[0margument is the string name of the hash function to use. [33mSign[39m objects are not[0m
[0mto be created directly using the [33mnew[39m keyword.[0m

[0mExample: Using [33mSign[39m and [[33mVerify[39m][] objects as streams:[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [33m{[39m [37mprivateKey[39m[32m,[39m [37mpublicKey[39m [33m}[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mgenerateKeyPairSync[39m[90m([39m[92m'ec'[39m[32m,[39m [33m{[39m
      [37mnamedCurve[39m[93m:[39m [92m'sect239k1'[39m
    [33m}[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37msign[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateSign[39m[90m([39m[92m'SHA256'[39m[90m)[39m[90m;[39m
    [37msign[39m[32m.[39m[37mwrite[39m[90m([39m[92m'some data to sign'[39m[90m)[39m[90m;[39m
    [37msign[39m[32m.[39m[37mend[39m[90m([39m[90m)[39m[90m;[39m
    [94mconst[39m [37msignature[39m [93m=[39m [37msign[39m[32m.[39m[37msign[39m[90m([39m[37mprivateKey[39m[32m,[39m [92m'hex'[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37mverify[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateVerify[39m[90m([39m[92m'SHA256'[39m[90m)[39m[90m;[39m
    [37mverify[39m[32m.[39m[37mwrite[39m[90m([39m[92m'some data to sign'[39m[90m)[39m[90m;[39m
    [37mverify[39m[32m.[39m[37mend[39m[90m([39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mverify[39m[32m.[39m[37mverify[39m[90m([39m[37mpublicKey[39m[32m,[39m [37msignature[39m[32m,[39m [92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m
    [90m// Prints: true[39m

[0mExample: Using the [[33msign.update()[39m][] and [[33mverify.update()[39m][] methods:[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [33m{[39m [37mprivateKey[39m[32m,[39m [37mpublicKey[39m [33m}[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mgenerateKeyPairSync[39m[90m([39m[92m'rsa'[39m[32m,[39m [33m{[39m
      [37mmodulusLength[39m[93m:[39m [34m2048[39m[32m,[39m
    [33m}[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37msign[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateSign[39m[90m([39m[92m'SHA256'[39m[90m)[39m[90m;[39m
    [37msign[39m[32m.[39m[37mupdate[39m[90m([39m[92m'some data to sign'[39m[90m)[39m[90m;[39m
    [37msign[39m[32m.[39m[37mend[39m[90m([39m[90m)[39m[90m;[39m
    [94mconst[39m [37msignature[39m [93m=[39m [37msign[39m[32m.[39m[37msign[39m[90m([39m[37mprivateKey[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37mverify[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateVerify[39m[90m([39m[92m'SHA256'[39m[90m)[39m[90m;[39m
    [37mverify[39m[32m.[39m[37mupdate[39m[90m([39m[92m'some data to sign'[39m[90m)[39m[90m;[39m
    [37mverify[39m[32m.[39m[37mend[39m[90m([39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mverify[39m[32m.[39m[37mverify[39m[90m([39m[37mpublicKey[39m[32m,[39m [37msignature[39m[90m)[39m[90m)[39m[90m;[39m
    [90m// Prints: true[39m

[32m[1m### [33msign.sign(privateKey[, outputEncoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.92[39m
[90mchanges:[39m
[90m  - version: v12.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/26960[39m
[90m    description: This function now supports RSA-PSS keys.[39m
[90m  - version: v11.6.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/24234[39m
[90m    description: This function now supports key objects.[39m
[90m  - version: v8.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/11705[39m
[90m    description: Support for RSASSA-PSS and additional options was added.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mprivateKey[39m {Object | string | Buffer | KeyObject}
        * [0m[0m[33mdsaEncoding[39m {string}[0m[0m[0m
      [0m
        * [0m[0m[33mpadding[39m {integer}[0m[0m[0m
      [0m
        * [0m[0m[33msaltLength[39m {integer}[0m[0m[0m
    * [0m[33moutputEncoding[39m {string} The [encoding][] of the return value.[0m
    * [0mReturns: {Buffer | string}[0m

[0mCalculates the signature on all the data passed through using either[0m
[0m[[33msign.update()[39m][] or [[33msign.write()[39m][stream-writable-write].[0m

[0mIf [33mprivateKey[39m is not a [[33mKeyObject[39m][], this function behaves as if[0m
[0m[33mprivateKey[39m had been passed to [[33mcrypto.createPrivateKey()[39m][]. If it is an[0m
[0mobject, the following additional properties can be passed:[0m

    * [0m[0m[0m[33mdsaEncoding[39m {string} For DSA and ECDSA, this option specifies the[0m[0m[0m
      [0m[0m[0mformat of the generated signature. It can be one of the following:[0m[0m[0m
      [0m[0m
      [0m
        * [0m[0m[33m'der'[39m (default): DER-encoded ASN.1 signature structure encoding [33m(r, s)[39m.[0m[0m[0m
      [0m
        * [0m[0m[33m'ieee-p1363'[39m: Signature format [33mr || s[39m as proposed in IEEE-P1363.[0m[0m[0m
    * [0m[0m[0m[33mpadding[39m {integer} Optional padding value for RSA, one of the following:[0m[0m[0m
      [0m[0m
      [0m
        * [0m[0m[33mcrypto.constants.RSA_PKCS1_PADDING[39m (default)[0m[0m[0m
      [0m
        * [0m[0m[33mcrypto.constants.RSA_PKCS1_PSS_PADDING[39m[0m[0m[0m
      [0m[0m
      [0m[0m[0m[33mRSA_PKCS1_PSS_PADDING[39m will use MGF1 with the same hash function[0m[0m[0m
      [0m[0m[0mused to sign the message as specified in section 3.1 of [RFC 4055][], unless[0m[0m[0m
      [0m[0m[0man MGF1 hash function has been specified as part of the key in compliance with[0m[0m[0m
      [0m[0m[0msection 3.3 of [RFC 4055][].[0m[0m[0m
    * [0m[0m[0m[33msaltLength[39m {integer} Salt length for when padding is[0m[0m[0m
      [0m[0m[0m[33mRSA_PKCS1_PSS_PADDING[39m. The special value[0m[0m[0m
      [0m[0m[0m[33mcrypto.constants.RSA_PSS_SALTLEN_DIGEST[39m sets the salt length to the digest[0m[0m[0m
      [0m[0m[0msize, [33mcrypto.constants.RSA_PSS_SALTLEN_MAX_SIGN[39m (default) sets it to the[0m[0m[0m
      [0m[0m[0mmaximum permissible value.[0m[0m[0m

[0mIf [33moutputEncoding[39m is provided a string is returned; otherwise a [[33mBuffer[39m][][0m
[0mis returned.[0m

[0mThe [33mSign[39m object can not be again used after [33msign.sign()[39m method has been[0m
[0mcalled. Multiple calls to [33msign.sign()[39m will result in an error being thrown.[0m

[32m[1m### [33msign.update(data[, inputEncoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.92[39m
[90mchanges:[39m
[90m  - version: v6.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/5522[39m
[90m    description: The default `inputEncoding` changed from `binary` to `utf8`.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mdata[39m {string | Buffer | TypedArray | DataView}[0m
    * [0m[33minputEncoding[39m {string} The [encoding][] of the [33mdata[39m string.[0m

[0mUpdates the [33mSign[39m content with the given [33mdata[39m, the encoding of which[0m
[0mis given in [33minputEncoding[39m.[0m
[0mIf [33mencoding[39m is not provided, and the [33mdata[39m is a string, an[0m
[0mencoding of [33m'utf8'[39m is enforced. If [33mdata[39m is a [[33mBuffer[39m][], [33mTypedArray[39m, or[0m
[0m[33mDataView[39m, then [33minputEncoding[39m is ignored.[0m

[0mThis can be called many times with new data as it is streamed.[0m

[32m[1m## Class: [33mVerify[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.92[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0mExtends: {stream.Writable}[0m

[0mThe [33mVerify[39m class is a utility for verifying signatures. It can be used in one[0m
[0mof two ways:[0m

    * [0mAs a writable [stream][] where written data is used to validate against the[0m
      [0msupplied signature, or[0m
    * [0mUsing the [[33mverify.update()[39m][] and [[33mverify.verify()[39m][] methods to verify[0m
      [0mthe signature.[0m

[0mThe [[33mcrypto.createVerify()[39m][] method is used to create [33mVerify[39m instances.[0m
[0m[33mVerify[39m objects are not to be created directly using the [33mnew[39m keyword.[0m

[0mSee [[33mSign[39m][] for examples.[0m

[32m[1m### [33mverify.update(data[, inputEncoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.92[39m
[90mchanges:[39m
[90m  - version: v6.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/5522[39m
[90m    description: The default `inputEncoding` changed from `binary` to `utf8`.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mdata[39m {string | Buffer | TypedArray | DataView}[0m
    * [0m[33minputEncoding[39m {string} The [encoding][] of the [33mdata[39m string.[0m

[0mUpdates the [33mVerify[39m content with the given [33mdata[39m, the encoding of which[0m
[0mis given in [33minputEncoding[39m.[0m
[0mIf [33minputEncoding[39m is not provided, and the [33mdata[39m is a string, an[0m
[0mencoding of [33m'utf8'[39m is enforced. If [33mdata[39m is a [[33mBuffer[39m][], [33mTypedArray[39m, or[0m
[0m[33mDataView[39m, then [33minputEncoding[39m is ignored.[0m

[0mThis can be called many times with new data as it is streamed.[0m

[32m[1m### [33mverify.verify(object, signature[, signatureEncoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.92[39m
[90mchanges:[39m
[90m  - version: v12.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/26960[39m
[90m    description: This function now supports RSA-PSS keys.[39m
[90m  - version: v11.7.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/25217[39m
[90m    description: The key can now be a private key.[39m
[90m  - version: v8.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/11705[39m
[90m    description: Support for RSASSA-PSS and additional options was added.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mobject[39m {Object | string | Buffer | KeyObject}
        * [0m[0m[33mdsaEncoding[39m {string}[0m[0m[0m
      [0m
        * [0m[0m[33mpadding[39m {integer}[0m[0m[0m
      [0m
        * [0m[0m[33msaltLength[39m {integer}[0m[0m[0m
    * [0m[33msignature[39m {string | Buffer | TypedArray | DataView}[0m
    * [0m[33msignatureEncoding[39m {string} The [encoding][] of the [33msignature[39m string.[0m
    * [0mReturns: {boolean} [33mtrue[39m or [33mfalse[39m depending on the validity of the[0m
      [0msignature for the data and public key.[0m

[0mVerifies the provided data using the given [33mobject[39m and [33msignature[39m.[0m

[0mIf [33mobject[39m is not a [[33mKeyObject[39m][], this function behaves as if[0m
[0m[33mobject[39m had been passed to [[33mcrypto.createPublicKey()[39m][]. If it is an[0m
[0mobject, the following additional properties can be passed:[0m

    * [0m[0m[0m[33mdsaEncoding[39m {string} For DSA and ECDSA, this option specifies the[0m[0m[0m
      [0m[0m[0mformat of the generated signature. It can be one of the following:[0m[0m[0m
      [0m[0m
      [0m
        * [0m[0m[33m'der'[39m (default): DER-encoded ASN.1 signature structure encoding [33m(r, s)[39m.[0m[0m[0m
      [0m
        * [0m[0m[33m'ieee-p1363'[39m: Signature format [33mr || s[39m as proposed in IEEE-P1363.[0m[0m[0m
    * [0m[0m[0m[33mpadding[39m {integer} Optional padding value for RSA, one of the following:[0m[0m[0m
      [0m[0m
      [0m
        * [0m[0m[33mcrypto.constants.RSA_PKCS1_PADDING[39m (default)[0m[0m[0m
      [0m
        * [0m[0m[33mcrypto.constants.RSA_PKCS1_PSS_PADDING[39m[0m[0m[0m
      [0m[0m
      [0m[0m[0m[33mRSA_PKCS1_PSS_PADDING[39m will use MGF1 with the same hash function[0m[0m[0m
      [0m[0m[0mused to verify the message as specified in section 3.1 of [RFC 4055][], unless[0m[0m[0m
      [0m[0m[0man MGF1 hash function has been specified as part of the key in compliance with[0m[0m[0m
      [0m[0m[0msection 3.3 of [RFC 4055][].[0m[0m[0m
    * [0m[0m[0m[33msaltLength[39m {integer} Salt length for when padding is[0m[0m[0m
      [0m[0m[0m[33mRSA_PKCS1_PSS_PADDING[39m. The special value[0m[0m[0m
      [0m[0m[0m[33mcrypto.constants.RSA_PSS_SALTLEN_DIGEST[39m sets the salt length to the digest[0m[0m[0m
      [0m[0m[0msize, [33mcrypto.constants.RSA_PSS_SALTLEN_AUTO[39m (default) causes it to be[0m[0m[0m
      [0m[0m[0mdetermined automatically.[0m[0m[0m

[0mThe [33msignature[39m argument is the previously calculated signature for the data, in[0m
[0mthe [33msignatureEncoding[39m.[0m
[0mIf a [33msignatureEncoding[39m is specified, the [33msignature[39m is expected to be a[0m
[0mstring; otherwise [33msignature[39m is expected to be a [[33mBuffer[39m][],[0m
[0m[33mTypedArray[39m, or [33mDataView[39m.[0m

[0mThe [33mverify[39m object can not be used again after [33mverify.verify()[39m has been[0m
[0mcalled. Multiple calls to [33mverify.verify()[39m will result in an error being[0m
[0mthrown.[0m

[0mBecause public keys can be derived from private keys, a private key may[0m
[0mbe passed instead of a public key.[0m

[32m[1m## [33mcrypto[39m[32m module methods and properties[22m[39m

[32m[1m### [33mcrypto.constants[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v6.3.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0mReturns: {Object} An object containing commonly used constants for crypto and[0m
      [0msecurity related operations. The specific constants currently defined are[0m
      [0mdescribed in [Crypto Constants][].[0m

[32m[1m### [33mcrypto.DEFAULT_ENCODING[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.9.3[39m
[90mdeprecated: v10.0.0[39m
[90m-->[39m
[90m[39m
[90m[39m[90m[3m    [0mStability: 0 - Deprecated[0m[23m[39m

[0mThe default encoding to use for functions that can take either strings[0m
[0mor [buffers][[33mBuffer[39m]. The default value is [33m'buffer'[39m, which makes methods[0m
[0mdefault to [[33mBuffer[39m][] objects.[0m

[0mThe [33mcrypto.DEFAULT_ENCODING[39m mechanism is provided for backwards compatibility[0m
[0mwith legacy programs that expect [33m'latin1'[39m to be the default encoding.[0m

[0mNew applications should expect the default to be [33m'buffer'[39m.[0m

[0mThis property is deprecated.[0m

[32m[1m### [33mcrypto.fips[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v6.0.0[39m
[90mdeprecated: v10.0.0[39m
[90m-->[39m
[90m[39m
[90m[39m[90m[3m    [0mStability: 0 - Deprecated[0m[23m[39m

[0mProperty for checking and controlling whether a FIPS compliant crypto provider[0m
[0mis currently in use. Setting to true requires a FIPS build of Node.js.[0m

[0mThis property is deprecated. Please use [33mcrypto.setFips()[39m and[0m
[0m[33mcrypto.getFips()[39m instead.[0m

[32m[1m### [33mcrypto.createCipher(algorithm, password[, options])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.94[39m
[90mdeprecated: v10.0.0[39m
[90mchanges:[39m
[90m  - version: v10.10.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/21447[39m
[90m    description: Ciphers in OCB mode are now supported.[39m
[90m  - version: v10.2.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/20235[39m
[90m    description: The `authTagLength` option can now be used to produce shorter[39m
[90m                 authentication tags in GCM mode and defaults to 16 bytes.[39m
[90m-->[39m
[90m[39m
[90m[39m[90m[3m    [0mStability: 0 - Deprecated: Use [[33mcrypto.createCipheriv()[39m[90m][] instead.[0m[23m[39m

    * [0m[33malgorithm[39m {string}[0m
    * [0m[33mpassword[39m {string | Buffer | TypedArray | DataView}[0m
    * [0m[33moptions[39m {Object} [[33mstream.transform[39m options][][0m
    * [0mReturns: {Cipher}[0m

[0mCreates and returns a [33mCipher[39m object that uses the given [33malgorithm[39m and[0m
[0m[33mpassword[39m.[0m

[0mThe [33moptions[39m argument controls stream behavior and is optional except when a[0m
[0mcipher in CCM or OCB mode is used (e.g. [33m'aes-128-ccm'[39m). In that case, the[0m
[0m[33mauthTagLength[39m option is required and specifies the length of the[0m
[0mauthentication tag in bytes, see [CCM mode][]. In GCM mode, the [33mauthTagLength[39m[0m
[0moption is not required but can be used to set the length of the authentication[0m
[0mtag that will be returned by [33mgetAuthTag()[39m and defaults to 16 bytes.[0m

[0mThe [33malgorithm[39m is dependent on OpenSSL, examples are [33m'aes192'[39m, etc. On[0m
[0mrecent OpenSSL releases, [33mopenssl list -cipher-algorithms[39m[0m
[0m([33mopenssl list-cipher-algorithms[39m for older versions of OpenSSL) will[0m
[0mdisplay the available cipher algorithms.[0m

[0mThe [33mpassword[39m is used to derive the cipher key and initialization vector (IV).[0m
[0mThe value must be either a [33m'latin1'[39m encoded string, a [[33mBuffer[39m][], a[0m
[0m[33mTypedArray[39m, or a [33mDataView[39m.[0m

[0mThe implementation of [33mcrypto.createCipher()[39m derives keys using the OpenSSL[0m
[0mfunction [[33mEVP_BytesToKey[39m][] with the digest algorithm set to MD5, one[0m
[0miteration, and no salt. The lack of salt allows dictionary attacks as the same[0m
[0mpassword always creates the same key. The low iteration count and[0m
[0mnon-cryptographically secure hash algorithm allow passwords to be tested very[0m
[0mrapidly.[0m

[0mIn line with OpenSSL's recommendation to use a more modern algorithm instead of[0m
[0m[[33mEVP_BytesToKey[39m][] it is recommended that developers derive a key and IV on[0m
[0mtheir own using [[33mcrypto.scrypt()[39m][] and to use [[33mcrypto.createCipheriv()[39m][][0m
[0mto create the [33mCipher[39m object. Users should not use ciphers with counter mode[0m
[0m(e.g. CTR, GCM, or CCM) in [33mcrypto.createCipher()[39m. A warning is emitted when[0m
[0mthey are used in order to avoid the risk of IV reuse that causes[0m
[0mvulnerabilities. For the case when IV is reused in GCM, see [Nonce-Disrespecting[0m
[0mAdversaries][] for details.[0m

[32m[1m### [33mcrypto.createCipheriv(algorithm, key, iv[, options])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.94[39m
[90mchanges:[39m
[90m  - version: v11.6.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/24234[39m
[90m    description: The `key` argument can now be a `KeyObject`.[39m
[90m  - version: v11.2.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/24081[39m
[90m    description: The cipher `chacha20-poly1305` is now supported.[39m
[90m  - version: v10.10.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/21447[39m
[90m    description: Ciphers in OCB mode are now supported.[39m
[90m  - version: v10.2.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/20235[39m
[90m    description: The `authTagLength` option can now be used to produce shorter[39m
[90m                 authentication tags in GCM mode and defaults to 16 bytes.[39m
[90m  - version: v9.9.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/18644[39m
[90m    description: The `iv` parameter may now be `null` for ciphers which do not[39m
[90m                 need an initialization vector.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33malgorithm[39m {string}[0m
    * [0m[33mkey[39m {string | Buffer | TypedArray | DataView | KeyObject}[0m
    * [0m[33miv[39m {string | Buffer | TypedArray | DataView | null}[0m
    * [0m[33moptions[39m {Object} [[33mstream.transform[39m options][][0m
    * [0mReturns: {Cipher}[0m

[0mCreates and returns a [33mCipher[39m object, with the given [33malgorithm[39m, [33mkey[39m and[0m
[0minitialization vector ([33miv[39m).[0m

[0mThe [33moptions[39m argument controls stream behavior and is optional except when a[0m
[0mcipher in CCM or OCB mode is used (e.g. [33m'aes-128-ccm'[39m). In that case, the[0m
[0m[33mauthTagLength[39m option is required and specifies the length of the[0m
[0mauthentication tag in bytes, see [CCM mode][]. In GCM mode, the [33mauthTagLength[39m[0m
[0moption is not required but can be used to set the length of the authentication[0m
[0mtag that will be returned by [33mgetAuthTag()[39m and defaults to 16 bytes.[0m

[0mThe [33malgorithm[39m is dependent on OpenSSL, examples are [33m'aes192'[39m, etc. On[0m
[0mrecent OpenSSL releases, [33mopenssl list -cipher-algorithms[39m[0m
[0m([33mopenssl list-cipher-algorithms[39m for older versions of OpenSSL) will[0m
[0mdisplay the available cipher algorithms.[0m

[0mThe [33mkey[39m is the raw key used by the [33malgorithm[39m and [33miv[39m is an[0m
[0m[initialization vector][]. Both arguments must be [33m'utf8'[39m encoded strings,[0m
[0m[Buffers][[33mBuffer[39m], [33mTypedArray[39m, or [33mDataView[39ms. The [33mkey[39m may optionally be[0m
[0ma [[33mKeyObject[39m][] of type [33msecret[39m. If the cipher does not need[0m
[0man initialization vector, [33miv[39m may be [33mnull[39m.[0m

[0mInitialization vectors should be unpredictable and unique; ideally, they will be[0m
[0mcryptographically random. They do not have to be secret: IVs are typically just[0m
[0madded to ciphertext messages unencrypted. It may sound contradictory that[0m
[0msomething has to be unpredictable and unique, but does not have to be secret;[0m
[0mremember that an attacker must not be able to predict ahead of time what a[0m
[0mgiven IV will be.[0m

[32m[1m### [33mcrypto.createDecipher(algorithm, password[, options])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.94[39m
[90mdeprecated: v10.0.0[39m
[90mchanges:[39m
[90m  - version: v10.10.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/21447[39m
[90m    description: Ciphers in OCB mode are now supported.[39m
[90m-->[39m
[90m[39m
[90m[39m[90m[3m    [0mStability: 0 - Deprecated: Use [[33mcrypto.createDecipheriv()[39m[90m][] instead.[0m[23m[39m

    * [0m[33malgorithm[39m {string}[0m
    * [0m[33mpassword[39m {string | Buffer | TypedArray | DataView}[0m
    * [0m[33moptions[39m {Object} [[33mstream.transform[39m options][][0m
    * [0mReturns: {Decipher}[0m

[0mCreates and returns a [33mDecipher[39m object that uses the given [33malgorithm[39m and[0m
[0m[33mpassword[39m (key).[0m

[0mThe [33moptions[39m argument controls stream behavior and is optional except when a[0m
[0mcipher in CCM or OCB mode is used (e.g. [33m'aes-128-ccm'[39m). In that case, the[0m
[0m[33mauthTagLength[39m option is required and specifies the length of the[0m
[0mauthentication tag in bytes, see [CCM mode][].[0m

[0mThe implementation of [33mcrypto.createDecipher()[39m derives keys using the OpenSSL[0m
[0mfunction [[33mEVP_BytesToKey[39m][] with the digest algorithm set to MD5, one[0m
[0miteration, and no salt. The lack of salt allows dictionary attacks as the same[0m
[0mpassword always creates the same key. The low iteration count and[0m
[0mnon-cryptographically secure hash algorithm allow passwords to be tested very[0m
[0mrapidly.[0m

[0mIn line with OpenSSL's recommendation to use a more modern algorithm instead of[0m
[0m[[33mEVP_BytesToKey[39m][] it is recommended that developers derive a key and IV on[0m
[0mtheir own using [[33mcrypto.scrypt()[39m][] and to use [[33mcrypto.createDecipheriv()[39m][][0m
[0mto create the [33mDecipher[39m object.[0m

[32m[1m### [33mcrypto.createDecipheriv(algorithm, key, iv[, options])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.94[39m
[90mchanges:[39m
[90m  - version: v11.6.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/24234[39m
[90m    description: The `key` argument can now be a `KeyObject`.[39m
[90m  - version: v11.2.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/24081[39m
[90m    description: The cipher `chacha20-poly1305` is now supported.[39m
[90m  - version: v10.10.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/21447[39m
[90m    description: Ciphers in OCB mode are now supported.[39m
[90m  - version: v10.2.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/20039[39m
[90m    description: The `authTagLength` option can now be used to restrict accepted[39m
[90m                 GCM authentication tag lengths.[39m
[90m  - version: v9.9.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/18644[39m
[90m    description: The `iv` parameter may now be `null` for ciphers which do not[39m
[90m                 need an initialization vector.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33malgorithm[39m {string}[0m
    * [0m[33mkey[39m {string | Buffer | TypedArray | DataView | KeyObject}[0m
    * [0m[33miv[39m {string | Buffer | TypedArray | DataView | null}[0m
    * [0m[33moptions[39m {Object} [[33mstream.transform[39m options][][0m
    * [0mReturns: {Decipher}[0m

[0mCreates and returns a [33mDecipher[39m object that uses the given [33malgorithm[39m, [33mkey[39m[0m
[0mand initialization vector ([33miv[39m).[0m

[0mThe [33moptions[39m argument controls stream behavior and is optional except when a[0m
[0mcipher in CCM or OCB mode is used (e.g. [33m'aes-128-ccm'[39m). In that case, the[0m
[0m[33mauthTagLength[39m option is required and specifies the length of the[0m
[0mauthentication tag in bytes, see [CCM mode][]. In GCM mode, the [33mauthTagLength[39m[0m
[0moption is not required but can be used to restrict accepted authentication tags[0m
[0mto those with the specified length.[0m

[0mThe [33malgorithm[39m is dependent on OpenSSL, examples are [33m'aes192'[39m, etc. On[0m
[0mrecent OpenSSL releases, [33mopenssl list -cipher-algorithms[39m[0m
[0m([33mopenssl list-cipher-algorithms[39m for older versions of OpenSSL) will[0m
[0mdisplay the available cipher algorithms.[0m

[0mThe [33mkey[39m is the raw key used by the [33malgorithm[39m and [33miv[39m is an[0m
[0m[initialization vector][]. Both arguments must be [33m'utf8'[39m encoded strings,[0m
[0m[Buffers][[33mBuffer[39m], [33mTypedArray[39m, or [33mDataView[39ms. The [33mkey[39m may optionally be[0m
[0ma [[33mKeyObject[39m][] of type [33msecret[39m. If the cipher does not need[0m
[0man initialization vector, [33miv[39m may be [33mnull[39m.[0m

[0mInitialization vectors should be unpredictable and unique; ideally, they will be[0m
[0mcryptographically random. They do not have to be secret: IVs are typically just[0m
[0madded to ciphertext messages unencrypted. It may sound contradictory that[0m
[0msomething has to be unpredictable and unique, but does not have to be secret;[0m
[0mremember that an attacker must not be able to predict ahead of time what a given[0m
[0mIV will be.[0m

[32m[1m### [33mcrypto.createDiffieHellman(prime[, primeEncoding][, generator][, generatorEncoding])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.11.12[39m
[90mchanges:[39m
[90m  - version: v8.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/12223[39m
[90m    description: The `prime` argument can be any `TypedArray` or `DataView` now.[39m
[90m  - version: v8.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/11983[39m
[90m    description: The `prime` argument can be a `Uint8Array` now.[39m
[90m  - version: v6.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/5522[39m
[90m    description: The default for the encoding parameters changed[39m
[90m                 from `binary` to `utf8`.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mprime[39m {string | Buffer | TypedArray | DataView}[0m
    * [0m[33mprimeEncoding[39m {string} The [encoding][] of the [33mprime[39m string.[0m
    * [0m[33mgenerator[39m {number | string | Buffer | TypedArray | DataView} [1mDefault:[22m[0m
      [0m[33m2[39m[0m
    * [0m[33mgeneratorEncoding[39m {string} The [encoding][] of the [33mgenerator[39m string.[0m
    * [0mReturns: {DiffieHellman}[0m

[0mCreates a [33mDiffieHellman[39m key exchange object using the supplied [33mprime[39m and an[0m
[0moptional specific [33mgenerator[39m.[0m

[0mThe [33mgenerator[39m argument can be a number, string, or [[33mBuffer[39m][]. If[0m
[0m[33mgenerator[39m is not specified, the value [33m2[39m is used.[0m

[0mIf [33mprimeEncoding[39m is specified, [33mprime[39m is expected to be a string; otherwise[0m
[0ma [[33mBuffer[39m][], [33mTypedArray[39m, or [33mDataView[39m is expected.[0m

[0mIf [33mgeneratorEncoding[39m is specified, [33mgenerator[39m is expected to be a string;[0m
[0motherwise a number, [[33mBuffer[39m][], [33mTypedArray[39m, or [33mDataView[39m is expected.[0m

[32m[1m### [33mcrypto.createDiffieHellman(primeLength[, generator])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.5.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mprimeLength[39m {number}[0m
    * [0m[33mgenerator[39m {number} [1mDefault:[22m [33m2[39m[0m
    * [0mReturns: {DiffieHellman}[0m

[0mCreates a [33mDiffieHellman[39m key exchange object and generates a prime of[0m
[0m[33mprimeLength[39m bits using an optional specific numeric [33mgenerator[39m.[0m
[0mIf [33mgenerator[39m is not specified, the value [33m2[39m is used.[0m

[32m[1m### [33mcrypto.createDiffieHellmanGroup(name)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.9.3[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mname[39m {string}[0m
    * [0mReturns: {DiffieHellmanGroup}[0m

[0mAn alias for [[33mcrypto.getDiffieHellman()[39m][][0m

[32m[1m### [33mcrypto.createECDH(curveName)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.11.14[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mcurveName[39m {string}[0m
    * [0mReturns: {ECDH}[0m

[0mCreates an Elliptic Curve Diffie-Hellman ([33mECDH[39m) key exchange object using a[0m
[0mpredefined curve specified by the [33mcurveName[39m string. Use[0m
[0m[[33mcrypto.getCurves()[39m][] to obtain a list of available curve names. On recent[0m
[0mOpenSSL releases, [33mopenssl ecparam -list_curves[39m will also display the name[0m
[0mand description of each available elliptic curve.[0m

[32m[1m### [33mcrypto.createHash(algorithm[, options])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.92[39m
[90mchanges:[39m
[90m  - version: v12.8.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/28805[39m
[90m    description: The `outputLength` option was added for XOF hash functions.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33malgorithm[39m {string}[0m
    * [0m[33moptions[39m {Object} [[33mstream.transform[39m options][][0m
    * [0mReturns: {Hash}[0m

[0mCreates and returns a [33mHash[39m object that can be used to generate hash digests[0m
[0musing the given [33malgorithm[39m. Optional [33moptions[39m argument controls stream[0m
[0mbehavior. For XOF hash functions such as [33m'shake256'[39m, the [33moutputLength[39m option[0m
[0mcan be used to specify the desired output length in bytes.[0m

[0mThe [33malgorithm[39m is dependent on the available algorithms supported by the[0m
[0mversion of OpenSSL on the platform. Examples are [33m'sha256'[39m, [33m'sha512'[39m, etc.[0m
[0mOn recent releases of OpenSSL, [33mopenssl list -digest-algorithms[39m[0m
[0m([33mopenssl list-message-digest-algorithms[39m for older versions of OpenSSL) will[0m
[0mdisplay the available digest algorithms.[0m

[0mExample: generating the sha256 sum of a file[0m

    [94mconst[39m [37mfilename[39m [93m=[39m [37mprocess[39m[32m.[39m[37margv[39m[33m[[39m[34m2[39m[33m][39m[90m;[39m
    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mfs[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/fs'[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37mhash[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateHash[39m[90m([39m[92m'sha256'[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37minput[39m [93m=[39m [37mfs[39m[32m.[39m[37mcreateReadStream[39m[90m([39m[37mfilename[39m[90m)[39m[90m;[39m
    [37minput[39m[32m.[39m[37mon[39m[90m([39m[92m'readable'[39m[32m,[39m [90m([39m[90m)[39m [93m=>[39m [33m{[39m
      [90m// Only one element is going to be produced by the[39m
      [90m// hash stream.[39m
      [94mconst[39m [37mdata[39m [93m=[39m [37minput[39m[32m.[39m[37mread[39m[90m([39m[90m)[39m[90m;[39m
      [94mif[39m [90m([39m[37mdata[39m[90m)[39m
        [37mhash[39m[32m.[39m[37mupdate[39m[90m([39m[37mdata[39m[90m)[39m[90m;[39m
      [94melse[39m [33m{[39m
        [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m`${[37mhash[39m[32m.[39m[37mdigest[39m[90m([39m[92m'hex'[39m[90m)[39m} ${[37mfilename[39m}`[90m)[39m[90m;[39m
      [33m}[39m
    [33m}[39m[90m)[39m[90m;[39m

[32m[1m### [33mcrypto.createHmac(algorithm, key[, options])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.94[39m
[90mchanges:[39m
[90m  - version: v11.6.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/24234[39m
[90m    description: The `key` argument can now be a `KeyObject`.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33malgorithm[39m {string}[0m
    * [0m[33mkey[39m {string | Buffer | TypedArray | DataView | KeyObject}[0m
    * [0m[33moptions[39m {Object} [[33mstream.transform[39m options][][0m
    * [0mReturns: {Hmac}[0m

[0mCreates and returns an [33mHmac[39m object that us[0m

[0mes the given [33malgorithm[39m and [33mkey[39m.[0m
[0mOptional [33moptions[39m argument controls stream behavior.[0m

[0mThe [33malgorithm[39m is dependent on the available algorithms supported by the[0m
[0mversion of OpenSSL on the platform. Examples are [33m'sha256'[39m, [33m'sha512'[39m, etc.[0m
[0mOn recent releases of OpenSSL, [33mopenssl list -digest-algorithms[39m[0m
[0m([33mopenssl list-message-digest-algorithms[39m for older versions of OpenSSL) will[0m
[0mdisplay the available digest algorithms.[0m

[0mThe [33mkey[39m is the HMAC key used to generate the cryptographic HMAC hash. If it is[0m
[0ma [34m[33mKeyObject[39m[34m ([34m[4m#crypto_class_keyobject[24m[39m[34m)[39m, its type must be [33msecret[39m.[0m

[0mExample: generating the sha256 HMAC of a file[0m

    [94mconst[39m [37mfilename[39m [93m=[39m [37mprocess[39m[32m.[39m[37margv[39m[33m[[39m[34m2[39m[33m][39m[90m;[39m
    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mfs[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/fs'[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37mhmac[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateHmac[39m[90m([39m[92m'sha256'[39m[32m,[39m [92m'a secret'[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37minput[39m [93m=[39m [37mfs[39m[32m.[39m[37mcreateReadStream[39m[90m([39m[37mfilename[39m[90m)[39m[90m;[39m
    [37minput[39m[32m.[39m[37mon[39m[90m([39m[92m'readable'[39m[32m,[39m [90m([39m[90m)[39m [93m=>[39m [33m{[39m
      [90m// Only one element is going to be produced by the[39m
      [90m// hash stream.[39m
      [94mconst[39m [37mdata[39m [93m=[39m [37minput[39m[32m.[39m[37mread[39m[90m([39m[90m)[39m[90m;[39m
      [94mif[39m [90m([39m[37mdata[39m[90m)[39m
        [37mhmac[39m[32m.[39m[37mupdate[39m[90m([39m[37mdata[39m[90m)[39m[90m;[39m
      [94melse[39m [33m{[39m
        [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m`${[37mhmac[39m[32m.[39m[37mdigest[39m[90m([39m[92m'hex'[39m[90m)[39m} ${[37mfilename[39m}`[90m)[39m[90m;[39m
      [33m}[39m
    [33m}[39m[90m)[39m[90m;[39m

[32m[1m### [33mcrypto.createPrivateKey(key)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v11.6.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mkey[39m {Object | string | Buffer}
        * [0m[0m[33mkey[39m: {string | Buffer} The key material, either in PEM or DER format.[0m[0m[0m
      [0m
        * [0m[0m[33mformat[39m: {string} Must be [33m'pem'[39m or [33m'der'[39m. [1mDefault:[22m [33m'pem'[39m.[0m[0m[0m
      [0m
        * [0m[0m[33mtype[39m: {string} Must be [33m'pkcs1'[39m, [33m'pkcs8'[39m or [33m'sec1'[39m. This option is[0m[0m[0m
      [0m      [0m[0m required only if the [33mformat[39m is [33m'der'[39m and ignored if it is [33m'pem'[39m.[0m[0m[0m
      [0m
        * [0m[0m[33mpassphrase[39m: {string | Buffer} The passphrase to use for decryption.[0m[0m[0m
    * [0mReturns: {KeyObject}[0m

[0mCreates and returns a new key object containing a private key. If [33mkey[39m is a[0m
[0mstring or [33mBuffer[39m, [33mformat[39m is assumed to be [33m'pem'[39m; otherwise, [33mkey[39m[0m
[0mmust be an object with the properties described above.[0m

[0mIf the private key is encrypted, a [33mpassphrase[39m must be specified. The length[0m
[0mof the passphrase is limited to 1024 bytes.[0m

[32m[1m### [33mcrypto.createPublicKey(key)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v11.6.0[39m
[90mchanges:[39m
[90m  - version: v11.13.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/26278[39m
[90m    description: The `key` argument can now be a `KeyObject` with type[39m
[90m                 `private`.[39m
[90m  - version: v11.7.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/25217[39m
[90m    description: The `key` argument can now be a private key.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mkey[39m {Object | string | Buffer | KeyObject}
        * [0m[0m[33mkey[39m: {string | Buffer}[0m[0m[0m
      [0m
        * [0m[0m[33mformat[39m: {string} Must be [33m'pem'[39m or [33m'der'[39m. [1mDefault:[22m [33m'pem'[39m.[0m[0m[0m
      [0m
        * [0m[0m[33mtype[39m: {string} Must be [33m'pkcs1'[39m or [33m'spki'[39m. This option is required[0m[0m[0m
      [0m      [0m[0monly if the [33mformat[39m is [33m'der'[39m.[0m[0m[0m
    * [0mReturns: {KeyObject}[0m

[0mCreates and returns a new key object containing a public key. If [33mkey[39m is a[0m
[0mstring or [33mBuffer[39m, [33mformat[39m is assumed to be [33m'pem'[39m; if [33mkey[39m is a [33mKeyObject[39m[0m
[0mwith type [33m'private'[39m, the public key is derived from the given private key;[0m
[0motherwise, [33mkey[39m must be an object with the properties described above.[0m

[0mIf the format is [33m'pem'[39m, the [33m'key'[39m may also be an X.509 certificate.[0m

[0mBecause public keys can be derived from private keys, a private key may be[0m
[0mpassed instead of a public key. In that case, this function behaves as if[0m
[0m[34m[33mcrypto.createPrivateKey()[39m[34m ([34m[4m#crypto_crypto_createprivatekey_key[24m[39m[34m)[39m had been called, except that the type of the[0m
[0mreturned [33mKeyObject[39m will be [33m'public'[39m and that the private key cannot be[0m
[0mextracted from the returned [33mKeyObject[39m. Similarly, if a [33mKeyObject[39m with type[0m
[0m[33m'private'[39m is given, a new [33mKeyObject[39m with type [33m'public'[39m will be returned[0m
[0mand it will be impossible to extract the private key from the returned object.[0m

[32m[1m### [33mcrypto.createSecretKey(key)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v11.6.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mkey[39m {Buffer}[0m
    * [0mReturns: {KeyObject}[0m

[0mCreates and returns a new key object containing a secret key for symmetric[0m
[0mencryption or [33mHmac[39m.[0m

[32m[1m### [33mcrypto.createSign(algorithm[, options])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.92[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33malgorithm[39m {string}[0m
    * [0m[33moptions[39m {Object} [34m[33mstream.Writable[39m[34m options ([34m[4mstream.html#stream_constructor_new_stream_writable_options[24m[39m[34m)[39m[0m
    * [0mReturns: {Sign}[0m

[0mCreates and returns a [33mSign[39m object that uses the given [33malgorithm[39m.  Use[0m
[0m[34m[33mcrypto.getHashes()[39m[34m ([34m[4m#crypto_crypto_gethashes[24m[39m[34m)[39m to obtain the names of the available digest algorithms.[0m
[0mOptional [33moptions[39m argument controls the [33mstream.Writable[39m behavior.[0m

[0mIn some cases, a [33mSign[39m instance can be created using the name of a signature[0m
[0malgorithm, such as [33m'RSA-SHA256'[39m, instead of a digest algorithm. This will use[0m
[0mthe corresponding digest algorithm. This does not work for all signature[0m
[0malgorithms, such as [33m'ecdsa-with-SHA256'[39m, so it is best to always use digest[0m
[0malgorithm names.[0m

[32m[1m### [33mcrypto.createVerify(algorithm[, options])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.1.92[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33malgorithm[39m {string}[0m
    * [0m[33moptions[39m {Object} [34m[33mstream.Writable[39m[34m options ([34m[4mstream.html#stream_constructor_new_stream_writable_options[24m[39m[34m)[39m[0m
    * [0mReturns: {Verify}[0m

[0mCreates and returns a [33mVerify[39m object that uses the given algorithm.[0m
[0mUse [34m[33mcrypto.getHashes()[39m[34m ([34m[4m#crypto_crypto_gethashes[24m[39m[34m)[39m to obtain an array of names of the available[0m
[0msigning algorithms. Optional [33moptions[39m argument controls the[0m
[0m[33mstream.Writable[39m behavior.[0m

[0mIn some cases, a [33mVerify[39m instance can be created using the name of a signature[0m
[0malgorithm, such as [33m'RSA-SHA256'[39m, instead of a digest algorithm. This will use[0m
[0mthe corresponding digest algorithm. This does not work for all signature[0m
[0malgorithms, such as [33m'ecdsa-with-SHA256'[39m, so it is best to always use digest[0m
[0malgorithm names.[0m

[32m[1m### [33mcrypto.diffieHellman(options)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v13.9.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33moptions[39m: {Object}
        * [0m[0m[33mprivateKey[39m: {KeyObject}[0m[0m[0m
      [0m
        * [0m[0m[33mpublicKey[39m: {KeyObject}[0m[0m[0m
    * [0mReturns: {Buffer}[0m

[0mComputes the Diffie-Hellman secret based on a [33mprivateKey[39m and a [33mpublicKey[39m.[0m
[0mBoth keys must have the same [33masymmetricKeyType[39m, which must be one of [33m'dh'[39m[0m
[0m(for Diffie-Hellman), [33m'ec'[39m (for ECDH), [33m'x448'[39m, or [33m'x25519'[39m (for ECDH-ES).[0m

[32m[1m### [33mcrypto.generateKeyPair(type, options, callback)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v10.12.0[39m
[90mchanges:[39m
[90m  - version: v13.9.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/31178[39m
[90m    description: Add support for Diffie-Hellman.[39m
[90m  - version: v12.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/26774[39m
[90m    description: Add ability to generate X25519 and X448 key pairs.[39m
[90m  - version: v12.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/26554[39m
[90m    description: Add ability to generate Ed25519 and Ed448 key pairs.[39m
[90m  - version: v11.6.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/24234[39m
[90m    description: The `generateKeyPair` and `generateKeyPairSync` functions now[39m
[90m                 produce key objects if no encoding was specified.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mtype[39m: {string} Must be [33m'rsa'[39m, [33m'dsa'[39m, [33m'ec'[39m, [33m'ed25519'[39m, [33m'ed448'[39m,[0m
      [0m[33m'x25519'[39m, [33m'x448'[39m, or [33m'dh'[39m.[0m
    * [0m[33moptions[39m: {Object}
        * [0m[0m[33mmodulusLength[39m: {number} Key size in bits (RSA, DSA).[0m[0m[0m
      [0m
        * [0m[0m[33mpublicExponent[39m: {number} Public exponent (RSA). [1mDefault:[22m [33m0x10001[39m.[0m[0m[0m
      [0m
        * [0m[0m[33mdivisorLength[39m: {number} Size of [33mq[39m in bits (DSA).[0m[0m[0m
      [0m
        * [0m[0m[33mnamedCurve[39m: {string} Name of the curve to use (EC).[0m[0m[0m
      [0m
        * [0m[0m[33mprime[39m: {Buffer} The prime parameter (DH).[0m[0m[0m
      [0m
        * [0m[0m[33mprimeLength[39m: {number} Prime length in bits (DH).[0m[0m[0m
      [0m
        * [0m[0m[33mgenerator[39m: {number} Custom generator (DH). [1mDefault:[22m [33m2[39m.[0m[0m[0m
      [0m
        * [0m[0m[33mgroupName[39m: {string} Diffie-Hellman group name (DH). See[0m[0m[0m
      [0m      [0m[0m[34m[33mcrypto.getDiffieHellman()[39m[34m ([34m[4m#crypto_crypto_getdiffiehellman_groupname[24m[39m[34m)[39m.[0m[0m[0m
      [0m
        * [0m[0m[33mpublicKeyEncoding[39m: {Object} See [34m[33mkeyObject.export()[39m[34m ([34m[4m#crypto_keyobject_export_options[24m[39m[34m)[39m.[0m[0m[0m
      [0m
        * [0m[0m[33mprivateKeyEncoding[39m: {Object} See [34m[33mkeyObject.export()[39m[34m ([34m[4m#crypto_keyobject_export_options[24m[39m[34m)[39m.[0m[0m[0m
    * [0m[33mcallback[39m: {Function}
        * [0m[0m[33merr[39m: {Error}[0m[0m[0m
      [0m
        * [0m[0m[33mpublicKey[39m: {string | Buffer | KeyObject}[0m[0m[0m
      [0m
        * [0m[0m[33mprivateKey[39m: {string | Buffer | KeyObject}[0m[0m[0m

[0mGenerates a new asymmetric key pair of the given [33mtype[39m. RSA, DSA, EC, Ed25519,[0m
[0mEd448, X25519, X448, and DH are currently supported.[0m

[0mIf a [33mpublicKeyEncoding[39m or [33mprivateKeyEncoding[39m was specified, this function[0m
[0mbehaves as if [34m[33mkeyObject.export()[39m[34m ([34m[4m#crypto_keyobject_export_options[24m[39m[34m)[39m had been called on its result. Otherwise,[0m
[0mthe respective part of the key is returned as a [34m[33mKeyObject[39m[34m ([34m[4m#crypto_class_keyobject[24m[39m[34m)[39m.[0m

[0mIt is recommended to encode public keys as [33m'spki'[39m and private keys as[0m
[0m[33m'pkcs8'[39m with encryption for long-term storage:[0m

    [94mconst[39m [33m{[39m [37mgenerateKeyPair[39m [33m}[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [37mgenerateKeyPair[39m[90m([39m[92m'rsa'[39m[32m,[39m [33m{[39m
      [37mmodulusLength[39m[93m:[39m [34m4096[39m[32m,[39m
      [37mpublicKeyEncoding[39m[93m:[39m [33m{[39m
        [37mtype[39m[93m:[39m [92m'spki'[39m[32m,[39m
        [37mformat[39m[93m:[39m [92m'pem'[39m
      [33m}[39m[32m,[39m
      [37mprivateKeyEncoding[39m[93m:[39m [33m{[39m
        [37mtype[39m[93m:[39m [92m'pkcs8'[39m[32m,[39m
        [37mformat[39m[93m:[39m [92m'pem'[39m[32m,[39m
        [37mcipher[39m[93m:[39m [92m'aes-256-cbc'[39m[32m,[39m
        [37mpassphrase[39m[93m:[39m [92m'top secret'[39m
      [33m}[39m
    [33m}[39m[32m,[39m [90m([39m[37merr[39m[32m,[39m [37mpublicKey[39m[32m,[39m [37mprivateKey[39m[90m)[39m [93m=>[39m [33m{[39m
      [90m// Handle errors and use the generated key pair.[39m
    [33m}[39m[90m)[39m[90m;[39m

[0mOn completion, [33mcallback[39m will be called with [33merr[39m set to [33mundefined[39m and[0m
[0m[33mpublicKey[39m / [33mprivateKey[39m representing the generated key pair.[0m

[0mIf this method is invoked as its [34m[33mutil.promisify()[39m[34m ([34m[4mutil.html#util_util_promisify_original[24m[39m[34m)[39med version, it returns[0m
[0ma [33mPromise[39m for an [33mObject[39m with [33mpublicKey[39m and [33mprivateKey[39m properties.[0m

[32m[1m### [33mcrypto.generateKeyPairSync(type, options)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v10.12.0[39m
[90mchanges:[39m
[90m  - version: v13.9.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/31178[39m
[90m    description: Add support for Diffie-Hellman.[39m
[90m  - version: v12.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/26554[39m
[90m    description: Add ability to generate Ed25519 and Ed448 key pairs.[39m
[90m  - version: v11.6.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/24234[39m
[90m    description: The `generateKeyPair` and `generateKeyPairSync` functions now[39m
[90m                 produce key objects if no encoding was specified.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mtype[39m: {string} Must be [33m'rsa'[39m, [33m'dsa'[39m, [33m'ec'[39m, [33m'ed25519'[39m, [33m'ed448'[39m,[0m
      [0m[33m'x25519'[39m, [33m'x448'[39m, or [33m'dh'[39m.[0m
    * [0m[33moptions[39m: {Object}
        * [0m[0m[33mmodulusLength[39m: {number} Key size in bits (RSA, DSA).[0m[0m[0m
      [0m
        * [0m[0m[33mpublicExponent[39m: {number} Public exponent (RSA). [1mDefault:[22m [33m0x10001[39m.[0m[0m[0m
      [0m
        * [0m[0m[33mdivisorLength[39m: {number} Size of [33mq[39m in bits (DSA).[0m[0m[0m
      [0m
        * [0m[0m[33mnamedCurve[39m: {string} Name of the curve to use (EC).[0m[0m[0m
      [0m
        * [0m[0m[33mprime[39m: {Buffer} The prime parameter (DH).[0m[0m[0m
      [0m
        * [0m[0m[33mprimeLength[39m: {number} Prime length in bits (DH).[0m[0m[0m
      [0m
        * [0m[0m[33mgenerator[39m: {number} Custom generator (DH). [1mDefault:[22m [33m2[39m.[0m[0m[0m
      [0m
        * [0m[0m[33mgroupName[39m: {string} Diffie-Hellman group name (DH). See[0m[0m[0m
      [0m      [0m[0m[34m[33mcrypto.getDiffieHellman()[39m[34m ([34m[4m#crypto_crypto_getdiffiehellman_groupname[24m[39m[34m)[39m.[0m[0m[0m
      [0m
        * [0m[0m[33mpublicKeyEncoding[39m: {Object} See [34m[33mkeyObject.export()[39m[34m ([34m[4m#crypto_keyobject_export_options[24m[39m[34m)[39m.[0m[0m[0m
      [0m
        * [0m[0m[33mprivateKeyEncoding[39m: {Object} See [34m[33mkeyObject.export()[39m[34m ([34m[4m#crypto_keyobject_export_options[24m[39m[34m)[39m.[0m[0m[0m
    * [0mReturns: {Object}
        * [0m[0m[33mpublicKey[39m: {string | Buffer | KeyObject}[0m[0m[0m
      [0m
        * [0m[0m[33mprivateKey[39m: {string | Buffer | KeyObject}[0m[0m[0m

[0mGenerates a new asymmetric key pair of the given [33mtype[39m. RSA, DSA, EC, Ed25519,[0m
[0mEd448, X25519, X448, and DH are currently supported.[0m

[0mIf a [33mpublicKeyEncoding[39m or [33mprivateKeyEncoding[39m was specified, this function[0m
[0mbehaves as if [34m[33mkeyObject.export()[39m[34m ([34m[4m#crypto_keyobject_export_options[24m[39m[34m)[39m had been called on its result. Otherwise,[0m
[0mthe respective part of the key is returned as a [34m[33mKeyObject[39m[34m ([34m[4m#crypto_class_keyobject[24m[39m[34m)[39m.[0m

[0mWhen encoding public keys, it is recommended to use [33m'spki'[39m. When encoding[0m
[0mprivate keys, it is recommended to use [33m'pks8'[39m with a strong passphrase, and to[0m
[0mkeep the passphrase confidential.[0m

    [94mconst[39m [33m{[39m [37mgenerateKeyPairSync[39m [33m}[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [94mconst[39m [33m{[39m [37mpublicKey[39m[32m,[39m [37mprivateKey[39m [33m}[39m [93m=[39m [37mgenerateKeyPairSync[39m[90m([39m[92m'rsa'[39m[32m,[39m [33m{[39m
      [37mmodulusLength[39m[93m:[39m [34m4096[39m[32m,[39m
      [37mpublicKeyEncoding[39m[93m:[39m [33m{[39m
        [37mtype[39m[93m:[39m [92m'spki'[39m[32m,[39m
        [37mformat[39m[93m:[39m [92m'pem'[39m
      [33m}[39m[32m,[39m
      [37mprivateKeyEncoding[39m[93m:[39m [33m{[39m
        [37mtype[39m[93m:[39m [92m'pkcs8'[39m[32m,[39m
        [37mformat[39m[93m:[39m [92m'pem'[39m[32m,[39m
        [37mcipher[39m[93m:[39m [92m'aes-256-cbc'[39m[32m,[39m
        [37mpassphrase[39m[93m:[39m [92m'top secret'[39m
      [33m}[39m
    [33m}[39m[90m)[39m[90m;[39m

[0mThe return value [33m{ publicKey, privateKey }[39m represents the generated key pair.[0m
[0mWhen PEM encoding was selected, the respective key will be a string, otherwise[0m
[0mit will be a buffer containing the data encoded as DER.[0m

[32m[1m### [33mcrypto.getCiphers()[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.9.3[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0mReturns: {string[]} An array with the names of the supported cipher[0m
      [0malgorithms.[0m

    [94mconst[39m [37mciphers[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mgetCiphers[39m[90m([39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mciphers[39m[90m)[39m[90m;[39m [90m// ['aes-128-cbc', 'aes-128-ccm', ...][39m

[32m[1m### [33mcrypto.getCurves()[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v2.3.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0mReturns: {string[]} An array with the names of the supported elliptic curves.[0m

    [94mconst[39m [37mcurves[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mgetCurves[39m[90m([39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mcurves[39m[90m)[39m[90m;[39m [90m// ['Oakley-EC2N-3', 'Oakley-EC2N-4', ...][39m

[32m[1m### [33mcrypto.getDiffieHellman(groupName)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.7.5[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mgroupName[39m {string}[0m
    * [0mReturns: {DiffieHellmanGroup}[0m

[0mCreates a predefined [33mDiffieHellmanGroup[39m key exchange object. The[0m
[0msupported groups are: [33m'modp1'[39m, [33m'modp2'[39m, [33m'modp5'[39m (defined in[0m
[0m[34mRFC 2412 ([34m[4mhttps://www.rfc-editor.org/rfc/rfc2412.txt[24m[39m[34m)[39m, but see [34mCaveats ([34m[4m#crypto_support_for_weak_or_compromised_algorithms[24m[39m[34m)[39m) and [33m'modp14'[39m, [33m'modp15'[39m,[0m
[0m[33m'modp16'[39m, [33m'modp17'[39m, [33m'modp18'[39m (defined in [34mRFC 3526 ([34m[4mhttps://www.rfc-editor.org/rfc/rfc3526.txt[24m[39m[34m)[39m). The[0m
[0mreturned object mimics the interface of objects created by[0m
[0m[34m[33mcrypto.createDiffieHellman()[39m[34m ([34m[4m#crypto_crypto_creatediffiehellman_prime_primeencoding_generator_generatorencoding[24m[39m[34m)[39m, but will not allow changing[0m
[0mthe keys (with [34m[33mdiffieHellman.setPublicKey()[39m[34m ([34m[4m#crypto_diffiehellman_setpublickey_publickey_encoding[24m[39m[34m)[39m, for example). The[0m
[0madvantage of using this method is that the parties do not have to[0m
[0mgenerate nor exchange a group modulus beforehand, saving both processor[0m
[0mand communication time.[0m

[0mExample (obtaining a shared secret):[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37malice[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mgetDiffieHellman[39m[90m([39m[92m'modp14'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mbob[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mgetDiffieHellman[39m[90m([39m[92m'modp14'[39m[90m)[39m[90m;[39m
    
    [37malice[39m[32m.[39m[37mgenerateKeys[39m[90m([39m[90m)[39m[90m;[39m
    [37mbob[39m[32m.[39m[37mgenerateKeys[39m[90m([39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37maliceSecret[39m [93m=[39m [37malice[39m[32m.[39m[37mcomputeSecret[39m[90m([39m[37mbob[39m[32m.[39m[37mgetPublicKey[39m[90m([39m[90m)[39m[32m,[39m [90mnull[39m[32m,[39m [92m'hex'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mbobSecret[39m [93m=[39m [37mbob[39m[32m.[39m[37mcomputeSecret[39m[90m([39m[37malice[39m[32m.[39m[37mgetPublicKey[39m[90m([39m[90m)[39m[32m,[39m [90mnull[39m[32m,[39m [92m'hex'[39m[90m)[39m[90m;[39m
    
    [90m/* aliceSecret and bobSecret should be the same */[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37maliceSecret[39m [93m===[39m [37mbobSecret[39m[90m)[39m[90m;[39m

[32m[1m### [33mcrypto.getFips()[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v10.0.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0mReturns: {number} [33m1[39m if and only if a FIPS compliant crypto provider is[0m
      [0mcurrently in use, [33m0[39m otherwise. A future semver-major release may change[0m
      [0mthe return type of this API to a {boolean}.[0m

[32m[1m### [33mcrypto.getHashes()[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.9.3[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0mReturns: {string[]} An array of the names of the supported hash algorithms,[0m
      [0msuch as [33m'RSA-SHA256'[39m. Hash algorithms are also called "digest" algorithms.[0m

    [94mconst[39m [37mhashes[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mgetHashes[39m[90m([39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mhashes[39m[90m)[39m[90m;[39m [90m// ['DSA', 'DSA-SHA', 'DSA-SHA1', ...][39m

[32m[1m### [33mcrypto.pbkdf2(password, salt, iterations, keylen, digest, callback)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.5.5[39m
[90mchanges:[39m
[90m  - version: REPLACEME[39m
[90m    pr-url: https://github.com/nodejs/node/pull/30578[39m
[90m    description: The `iterations` parameter is now restricted to positive[39m
[90m                 values. Earlier releases treated other values as one.[39m
[90m  - version: v8.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/11305[39m
[90m    description: The `digest` parameter is always required now.[39m
[90m  - version: v6.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/4047[39m
[90m    description: Calling this function without passing the `digest` parameter[39m
[90m                 is deprecated now and will emit a warning.[39m
[90m  - version: v6.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/5522[39m
[90m    description: The default encoding for `password` if it is a string changed[39m
[90m                 from `binary` to `utf8`.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mpassword[39m {string|Buffer|TypedArray|DataView}[0m
    * [0m[33msalt[39m {string|Buffer|TypedArray|DataView}[0m
    * [0m[33miterations[39m {number}[0m
    * [0m[33mkeylen[39m {number}[0m
    * [0m[33mdigest[39m {string}[0m
    * [0m[33mcallback[39m {Function}
        * [0m[0m[33merr[39m {Error}[0m[0m[0m
      [0m
        * [0m[0m[33mderivedKey[39m {Buffer}[0m[0m[0m

[0mProvides an asynchronous Password-Based Key Derivation Function 2 (PBKDF2)[0m
[0mimplementation. A selected HMAC digest algorithm specified by [33mdigest[39m is[0m
[0mapplied to derive a key of the requested byte length ([33mkeylen[39m) from the[0m
[0m[33mpassword[39m, [33msalt[39m and [33miterations[39m.[0m

[0mThe supplied [33mcallback[39m function is called with two arguments: [33merr[39m and[0m
[0m[33mderivedKey[39m. If an error occurs while deriving the key, [33merr[39m will be set;[0m
[0motherwise [33merr[39m will be [33mnull[39m. By default, the successfully generated[0m
[0m[33mderivedKey[39m will be passed to the callback as a [34m[33mBuffer[39m[34m ([34m[4mbuffer.html[24m[39m[34m)[39m. An error will be[0m
[0mthrown if any of the input arguments specify invalid values or types.[0m

[0mIf [33mdigest[39m is [33mnull[39m, [33m'sha1'[39m will be used. This behavior is deprecated,[0m
[0mplease specify a [33mdigest[39m explicitly.[0m

[0mThe [33miterations[39m argument must be a number set as high as possible. The[0m
[0mhigher the number of iterations, the more secure the derived key will be,[0m
[0mbut will take a longer amount of time to complete.[0m

[0mThe [33msalt[39m should be as unique as possible. It is recommended that a salt is[0m
[0mrandom and at least 16 bytes long. See [34mNIST SP 800-132 ([34m[4mhttps://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-132.pdf[24m[39m[34m)[39m for details.[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [37mcrypto[39m[32m.[39m[37mpbkdf2[39m[90m([39m[92m'secret'[39m[32m,[39m [92m'salt'[39m[32m,[39m [34m100000[39m[32m,[39m [34m64[39m[32m,[39m [92m'sha512'[39m[32m,[39m [90m([39m[37merr[39m[32m,[39m [37mderivedKey[39m[90m)[39m [93m=>[39m [33m{[39m
      [94mif[39m [90m([39m[37merr[39m[90m)[39m [94mthrow[39m [37merr[39m[90m;[39m
      [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mderivedKey[39m[32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m  [90m// '3745e48...08d59ae'[39m
    [33m}[39m[90m)[39m[90m;[39m

[0mThe [33mcrypto.DEFAULT_ENCODING[39m property can be used to change the way the[0m
[0m[33mderivedKey[39m is passed to the callback. This property, however, has been[0m
[0mdeprecated and use should be avoided.[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [37mcrypto[39m[32m.[39m[37mDEFAULT_ENCODING[39m [93m=[39m [92m'hex'[39m[90m;[39m
    [37mcrypto[39m[32m.[39m[37mpbkdf2[39m[90m([39m[92m'secret'[39m[32m,[39m [92m'salt'[39m[32m,[39m [34m100000[39m[32m,[39m [34m512[39m[32m,[39m [92m'sha512'[39m[32m,[39m [90m([39m[37merr[39m[32m,[39m [37mderivedKey[39m[90m)[39m [93m=>[39m [33m{[39m
      [94mif[39m [90m([39m[37merr[39m[90m)[39m [94mthrow[39m [37merr[39m[90m;[39m
      [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mderivedKey[39m[90m)[39m[90m;[39m  [90m// '3745e48...aa39b34'[39m
    [33m}[39m[90m)[39m[90m;[39m

[0mAn array of supported digest functions can be retrieved using[0m
[0m[34m[33mcrypto.getHashes()[39m[34m ([34m[4m#crypto_crypto_gethashes[24m[39m[34m)[39m.[0m

[0mThis API uses libuv's threadpool, which can have surprising and[0m
[0mnegative performance implications for some applications; see the[0m
[0m[34m[33mUV_THREADPOOL_SIZE[39m[34m ([34m[4mcli.html#cli_uv_threadpool_size_size[24m[39m[34m)[39m documentation for more information.[0m

[32m[1m### [33mcrypto.pbkdf2Sync(password, salt, iterations, keylen, digest)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.9.3[39m
[90mchanges:[39m
[90m  - version: REPLACEME[39m
[90m    pr-url: https://github.com/nodejs/node/pull/30578[39m
[90m    description: The `iterations` parameter is now restricted to positive[39m
[90m                 values. Earlier releases treated other values as one.[39m
[90m  - version: v6.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/4047[39m
[90m    description: Calling this function without passing the `digest` parameter[39m
[90m                 is deprecated now and will emit a warning.[39m
[90m  - version: v6.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/5522[39m
[90m    description: The default encoding for `password` if it is a string changed[39m
[90m                 from `binary` to `utf8`.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mpassword[39m {string|Buffer|TypedArray|DataView}[0m
    * [0m[33msalt[39m {string|Buffer|TypedArray|DataView}[0m
    * [0m[33miterations[39m {number}[0m
    * [0m[33mkeylen[39m {number}[0m
    * [0m[33mdigest[39m {string}[0m
    * [0mReturns: {Buffer}[0m

[0mProvides a synchronous Password-Based Key Derivation Function 2 (PBKDF2)[0m
[0mimplementation. A selected HMAC digest algorithm specified by [33mdigest[39m is[0m
[0mapplied to derive a key of the requested byte length ([33mkeylen[39m) from the[0m
[0m[33mpassword[39m, [33msalt[39m and [33miterations[39m.[0m

[0mIf an error occurs an [33mError[39m will be thrown, otherwise the derived key will be[0m
[0mreturned as a [34m[33mBuffer[39m[34m ([34m[4mbuffer.html[24m[39m[34m)[39m.[0m

[0mIf [33mdigest[39m is [33mnull[39m, [33m'sha1'[39m will be used. This behavior is deprecated,[0m
[0mplease specify a [33mdigest[39m explicitly.[0m

[0mThe [33miterations[39m argument must be a number set as high as possible. The[0m
[0mhigher the number of iterations, the more secure the derived key will be,[0m
[0mbut will take a longer amount of time to complete.[0m

[0mThe [33msalt[39m should be as unique as possible. It is recommended that a salt is[0m
[0mrandom and at least 16 bytes long. See [34mNIST SP 800-132 ([34m[4mhttps://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-132.pdf[24m[39m[34m)[39m for details.[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mkey[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mpbkdf2Sync[39m[90m([39m[92m'secret'[39m[32m,[39m [92m'salt'[39m[32m,[39m [34m100000[39m[32m,[39m [34m64[39m[32m,[39m [92m'sha512'[39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mkey[39m[32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m  [90m// '3745e48...08d59ae'[39m

[0mThe [33mcrypto.DEFAULT_ENCODING[39m property may be used to change the way the[0m
[0m[33mderivedKey[39m is returned. This property, however, is deprecated and use[0m
[0mshould be avoided.[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [37mcrypto[39m[32m.[39m[37mDEFAULT_ENCODING[39m [93m=[39m [92m'hex'[39m[90m;[39m
    [94mconst[39m [37mkey[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mpbkdf2Sync[39m[90m([39m[92m'secret'[39m[32m,[39m [92m'salt'[39m[32m,[39m [34m100000[39m[32m,[39m [34m512[39m[32m,[39m [92m'sha512'[39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mkey[39m[90m)[39m[90m;[39m  [90m// '3745e48...aa39b34'[39m

[0mAn array of supported digest functions can be retrieved using[0m
[0m[34m[33mcrypto.getHashes()[39m[34m ([34m[4m#crypto_crypto_gethashes[24m[39m[34m)[39m.[0m

[32m[1m### [33mcrypto.privateDecrypt(privateKey, buffer)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.11.14[39m
[90mchanges:[39m
[90m  - version: v12.11.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/29489[39m
[90m    description: The `oaepLabel` option was added.[39m
[90m  - version: v12.9.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/28335[39m
[90m    description: The `oaepHash` option was added.[39m
[90m  - version: v11.6.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/24234[39m
[90m    description: This function now supports key objects.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mprivateKey[39m {Object | string | Buffer | KeyObject}
        * [0m[0m[33moaepHash[39m {string} The hash function to use for OAEP padding and MGF1.[0m[0m[0m
      [0m      [0m[0m[1mDefault:[22m [33m'sha1'[39m[0m[0m[0m
      [0m
        * [0m[0m[33moaepLabel[39m {Buffer | TypedArray | DataView} The label to use for OAEP[0m[0m[0m
      [0m      [0m[0m padding. If not specified, no label is used.[0m[0m[0m
      [0m
        * [0m[0m[33mpadding[39m {crypto.constants} An optional padding value defined in[0m[0m[0m
      [0m      [0m[0m[33mcrypto.constants[39m, which may be: [33mcrypto.constants.RSA_NO_PADDING[39m,[0m[0m[0m
      [0m      [0m[0m[33mcrypto.constants.RSA_PKCS1_PADDING[39m, or[0m[0m[0m
      [0m      [0m[0m[33mcrypto.constants.RSA_PKCS1_OAEP_PADDING[39m.[0m[0m[0m
    * [0m[33mbuffer[39m {Buffer | TypedArray | DataView}[0m
    * [0mReturns: {Buffer} A new [33mBuffer[39m with the decrypted content.[0m

[0mDecrypts [33mbuffer[39m with [33mprivateKey[39m. [33mbuffer[39m was previously encrypted using[0m
[0mthe corresponding public key, for example using [34m[33mcrypto.publicEncrypt()[39m[34m ([34m[4m#crypto_crypto_publicencrypt_key_buffer[24m[39m[34m)[39m.[0m

[0mIf [33mprivateKey[39m is not a [34m[33mKeyObject[39m[34m ([34m[4m#crypto_class_keyobject[24m[39m[34m)[39m, this function behaves as if[0m
[0m[33mprivateKey[39m had been passed to [34m[33mcrypto.createPrivateKey()[39m[34m ([34m[4m#crypto_crypto_createprivatekey_key[24m[39m[34m)[39m. If it is an[0m
[0mobject, the [33mpadding[39m property can be passed. Otherwise, this function uses[0m
[0m[33mRSA_PKCS1_OAEP_PADDING[39m.[0m

[32m[1m### [33mcrypto.privateEncrypt(privateKey, buffer)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v1.1.0[39m
[90mchanges:[39m
[90m  - version: v11.6.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/24234[39m
[90m    description: This function now supports key objects.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mprivateKey[39m {Object | string | Buffer | KeyObject}
        * [0m[0m[33mkey[39m {string | Buffer | KeyObject} A PEM encoded private key.[0m[0m[0m
      [0m
        * [0m[0m[33mpassphrase[39m {string | Buffer} An optional passphrase for the private key.[0m[0m[0m
      [0m
        * [0m[0m[33mpadding[39m {crypto.constants} An optional padding value defined in[0m[0m[0m
      [0m      [0m[0m[33mcrypto.constants[39m, which may be: [33mcrypto.constants.RSA_NO_PADDING[39m or[0m[0m[0m
      [0m      [0m[0m[33mcrypto.constants.RSA_PKCS1_PADDING[39m.[0m[0m[0m
    * [0m[33mbuffer[39m {Buffer | TypedArray | DataView}[0m
    * [0mReturns: {Buffer} A new [33mBuffer[39m with the encrypted content.[0m

[0mEncrypts [33mbuffer[39m with [33mprivateKey[39m. The returned data can be decrypted using[0m
[0mthe corresponding public key, for example using [34m[33mcrypto.publicDecrypt()[39m[34m ([34m[4m#crypto_crypto_publicdecrypt_key_buffer[24m[39m[34m)[39m.[0m

[0mIf [33mprivateKey[39m is not a [34m[33mKeyObject[39m[34m ([34m[4m#crypto_class_keyobject[24m[39m[34m)[39m, this function behaves as if[0m
[0m[33mprivateKey[39m had been passed to [34m[33mcrypto.createPrivateKey()[39m[34m ([34m[4m#crypto_crypto_createprivatekey_key[24m[39m[34m)[39m. If it is an[0m
[0mobject, the [33mpadding[39m property can be passed. Otherwise, this function uses[0m
[0m[33mRSA_PKCS1_PADDING[39m.[0m

[32m[1m### [33mcrypto.publicDecrypt(key, buffer)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v1.1.0[39m
[90mchanges:[39m
[90m  - version: v11.6.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/24234[39m
[90m    description: This function now supports key objects.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mkey[39m {Object | string | Buffer | KeyObject}
        * [0m[0m[33mpassphrase[39m {string | Buffer} An optional passphrase for the private key.[0m[0m[0m
      [0m
        * [0m[0m[33mpadding[39m {crypto.constants} An optional padding value defined in[0m[0m[0m
      [0m      [0m[0m[33mcrypto.constants[39m, which may be: [33mcrypto.constants.RSA_NO_PADDING[39m or[0m[0m[0m
      [0m      [0m[0m[33mcrypto.constants.RSA_PKCS1_PADDING[39m.[0m[0m[0m
    * [0m[33mbuffer[39m {Buffer | TypedArray | DataView}[0m
    * [0mReturns: {Buffer} A new [33mBuffer[39m with the decrypted content.[0m

[0mDecrypts [33mbuffer[39m with [33mkey[39m.[33mbuffer[39m was previously encrypted using[0m
[0mthe corresponding private key, for example using [34m[33mcrypto.privateEncrypt()[39m[34m ([34m[4m#crypto_crypto_privateencrypt_privatekey_buffer[24m[39m[34m)[39m.[0m

[0mIf [33mkey[39m is not a [34m[33mKeyObject[39m[34m ([34m[4m#crypto_class_keyobject[24m[39m[34m)[39m, this function behaves as if[0m
[0m[33mkey[39m had been passed to [34m[33mcrypto.createPublicKey()[39m[34m ([34m[4m#crypto_crypto_createpublickey_key[24m[39m[34m)[39m. If it is an[0m
[0mobject, the [33mpadding[39m property can be passed. Otherwise, this function uses[0m
[0m[33mRSA_PKCS1_PADDING[39m.[0m

[0mBecause RSA public keys can be derived from private keys, a private key may[0m
[0mbe passed instead of a public key.[0m

[32m[1m### [33mcrypto.publicEncrypt(key, buffer)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.11.14[39m
[90mchanges:[39m
[90m  - version: v12.11.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/29489[39m
[90m    description: The `oaepLabel` option was added.[39m
[90m  - version: v12.9.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/28335[39m
[90m    description: The `oaepHash` option was added.[39m
[90m  - version: v11.6.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/24234[39m
[90m    description: This function now supports key objects.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mkey[39m {Object | string | Buffer | KeyObject}
        * [0m[0m[33mkey[39m {string | Buffer | KeyObject} A PEM encoded public or private key.[0m[0m[0m
      [0m
        * [0m[0m[33moaepHash[39m {string} The hash function to use for OAEP padding and MGF1.[0m[0m[0m
      [0m      [0m[0m[1mDefault:[22m [33m'sha1'[39m[0m[0m[0m
      [0m
        * [0m[0m[33moaepLabel[39m {Buffer | TypedArray | DataView} The label to use for OAEP[0m[0m[0m
      [0m      [0m[0m padding. If not specified, no label is used.[0m[0m[0m
      [0m
        * [0m[0m[33mpassphrase[39m {string | Buffer} An optional passphrase for the private key.[0m[0m[0m
      [0m
        * [0m[0m[33mpadding[39m {crypto.constants} An optional padding value defined in[0m[0m[0m
      [0m      [0m[0m[33mcrypto.constants[39m, which may be: [33mcrypto.constants.RSA_NO_PADDING[39m,[0m[0m[0m
      [0m      [0m[0m[33mcrypto.constants.RSA_PKCS1_PADDING[39m, or[0m[0m[0m
      [0m      [0m[0m[33mcrypto.constants.RSA_PKCS1_OAEP_PADDING[39m.[0m[0m[0m
    * [0m[33mbuffer[39m {Buffer | TypedArray | DataView}[0m
    * [0mReturns: {Buffer} A new [33mBuffer[39m with the encrypted content.[0m

[0mEncrypts the content of [33mbuffer[39m with [33mkey[39m and returns a new[0m
[0m[34m[33mBuffer[39m[34m ([34m[4mbuffer.html[24m[39m[34m)[39m with encrypted content. The returned data can be decrypted using[0m
[0mthe corresponding private key, for example using [34m[33mcrypto.privateDecrypt()[39m[34m ([34m[4m#crypto_crypto_privatedecrypt_privatekey_buffer[24m[39m[34m)[39m.[0m

[0mIf [33mkey[39m is not a [34m[33mKeyObject[39m[34m ([34m[4m#crypto_class_keyobject[24m[39m[34m)[39m, this function behaves as if[0m
[0m[33mkey[39m had been passed to [34m[33mcrypto.createPublicKey()[39m[34m ([34m[4m#crypto_crypto_createpublickey_key[24m[39m[34m)[39m. If it is an[0m
[0mobject, the [33mpadding[39m property can be passed. Otherwise, this function uses[0m
[0m[33mRSA_PKCS1_OAEP_PADDING[39m.[0m

[0mBecause RSA public keys can be derived from private keys, a private key may[0m
[0mbe passed instead of a public key.[0m

[32m[1m### [33mcrypto.randomBytes(size[, callback])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.5.8[39m
[90mchanges:[39m
[90m  - version: v9.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/16454[39m
[90m    description: Passing `null` as the `callback` argument now throws[39m
[90m                 `ERR_INVALID_CALLBACK`.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33msize[39m {number}[0m
    * [0m[33mcallback[39m {Function}
        * [0m[0m[33merr[39m {Error}[0m[0m[0m
      [0m
        * [0m[0m[33mbuf[39m {Buffer}[0m[0m[0m
    * [0mReturns: {Buffer} if the [33mcallback[39m function is not provided.[0m

[0mGenerates cryptographically strong pseudo-random data. The [33msize[39m argument[0m
[0mis a number indicating the number of bytes to generate.[0m

[0mIf a [33mcallback[39m function is provided, the bytes are generated asynchronously[0m
[0mand the [33mcallback[39m function is invoked with two arguments: [33merr[39m and [33mbuf[39m.[0m
[0mIf an error occurs, [33merr[39m will be an [33mError[39m object; otherwise it is [33mnull[39m. The[0m
[0m[33mbuf[39m argument is a [34m[33mBuffer[39m[34m ([34m[4mbuffer.html[24m[39m[34m)[39m containing the generated bytes.[0m

    [90m// Asynchronous[39m
    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [37mcrypto[39m[32m.[39m[37mrandomBytes[39m[90m([39m[34m256[39m[32m,[39m [90m([39m[37merr[39m[32m,[39m [37mbuf[39m[90m)[39m [93m=>[39m [33m{[39m
      [94mif[39m [90m([39m[37merr[39m[90m)[39m [94mthrow[39m [37merr[39m[90m;[39m
      [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m`${[37mbuf[39m[32m.[39m[37mlength[39m} bytes of random data: ${[37mbuf[39m[32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m}`[90m)[39m[90m;[39m
    [33m}[39m[90m)[39m[90m;[39m

[0mIf the [33mcallback[39m function is not provided, the random bytes are generated[0m
[0msynchronously and returned as a [34m[33mBuffer[39m[34m ([34m[4mbuffer.html[24m[39m[34m)[39m. An error will be thrown if[0m
[0mthere is a problem generating the bytes.[0m

    [90m// Synchronous[39m
    [94mconst[39m [37mbuf[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mrandomBytes[39m[90m([39m[34m256[39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m
      `${[37mbuf[39m[32m.[39m[37mlength[39m} bytes of random data: ${[37mbuf[39m[32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m}`[90m)[39m[90m;[39m

[0mThe [33mcrypto.randomBytes()[39m method will not complete until there is[0m
[0msufficient entropy available.[0m
[0mThis should normally never take longer than a few milliseconds. The only time[0m
[0mwhen generating the random bytes may conceivably block for a longer period of[0m
[0mtime is right after boot, when the whole system is still low on entropy.[0m

[0mThis API uses libuv's threadpool, which can have surprising and[0m
[0mnegative performance implications for some applications; see the[0m
[0m[34m[33mUV_THREADPOOL_SIZE[39m[34m ([34m[4mcli.html#cli_uv_threadpool_size_size[24m[39m[34m)[39m documentation for more information.[0m

[0mThe asynchronous version of [33mcrypto.randomBytes()[39m is carried out in a single[0m
[0mthreadpool request. To minimize threadpool task length variation, partition[0m
[0mlarge [33mrandomBytes[39m requests when doing so as part of fulfilling a client[0m
[0mrequest.[0m

[32m[1m### [33mcrypto.randomFillSync(buffer[, offset][, size])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded:[39m
[90m  - v7.10.0[39m
[90m  - v6.13.0[39m
[90mchanges:[39m
[90m  - version: v9.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/15231[39m
[90m    description: The `buffer` argument may be any `TypedArray` or `DataView`.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mbuffer[39m {Buffer|TypedArray|DataView} Must be supplied.[0m
    * [0m[33moffset[39m {number} [1mDefault:[22m [33m0[39m[0m
    * [0m[33msize[39m {number} [1mDefault:[22m [33mbuffer.length - offset[39m[0m
    * [0mReturns: {Buffer|TypedArray|DataView} The object passed as [33mbuffer[39m argument.[0m

[0mSynchronous version of [34m[33mcrypto.randomFill()[39m[34m ([34m[4m#crypto_crypto_randomfill_buffer_offset_size_callback[24m[39m[34m)[39m.[0m

    [94mconst[39m [37mbuf[39m [93m=[39m [37mBuffer[39m[32m.[39m[37malloc[39m[90m([39m[34m10[39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mcrypto[39m[32m.[39m[37mrandomFillSync[39m[90m([39m[37mbuf[39m[90m)[39m[32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m
    
    [37mcrypto[39m[32m.[39m[37mrandomFillSync[39m[90m([39m[37mbuf[39m[32m,[39m [34m5[39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mbuf[39m[32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m
    
    [90m// The above is equivalent to the following:[39m
    [37mcrypto[39m[32m.[39m[37mrandomFillSync[39m[90m([39m[37mbuf[39m[32m,[39m [34m5[39m[32m,[39m [34m5[39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mbuf[39m[32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m

[0mAny [33mTypedArray[39m or [33mDataView[39m instance may be passed as [33mbuffer[39m.[0m

    [94mconst[39m [37ma[39m [93m=[39m [31mnew[39m [37mUint32Array[39m[90m([39m[34m10[39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mBuffer[39m[32m.[39m[37mfrom[39m[90m([39m[37mcrypto[39m[32m.[39m[37mrandomFillSync[39m[90m([39m[37ma[39m[90m)[39m[32m.[39m[37mbuffer[39m[32m,[39m
                            [37ma[39m[32m.[39m[37mbyteOffset[39m[32m,[39m [37ma[39m[32m.[39m[37mbyteLength[39m[90m)[39m[32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37mb[39m [93m=[39m [31mnew[39m [37mFloat64Array[39m[90m([39m[34m10[39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mBuffer[39m[32m.[39m[37mfrom[39m[90m([39m[37mcrypto[39m[32m.[39m[37mrandomFillSync[39m[90m([39m[37mb[39m[90m)[39m[32m.[39m[37mbuffer[39m[32m,[39m
                            [37mb[39m[32m.[39m[37mbyteOffset[39m[32m,[39m [37mb[39m[32m.[39m[37mbyteLength[39m[90m)[39m[32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37mc[39m [93m=[39m [31mnew[39m [37mDataView[39m[90m([39m[31mnew[39m [37mArrayBuffer[39m[90m([39m[34m10[39m[90m)[39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mBuffer[39m[32m.[39m[37mfrom[39m[90m([39m[37mcrypto[39m[32m.[39m[37mrandomFillSync[39m[90m([39m[37mc[39m[90m)[39m[32m.[39m[37mbuffer[39m[32m,[39m
                            [37mc[39m[32m.[39m[37mbyteOffset[39m[32m,[39m [37mc[39m[32m.[39m[37mbyteLength[39m[90m)[39m[32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m

[32m[1m### [33mcrypto.randomFill(buffer[, offset][, size], callback)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded:[39m
[90m  - v7.10.0[39m
[90m  - v6.13.0[39m
[90mchanges:[39m
[90m  - version: v9.0.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/15231[39m
[90m    description: The `buffer` argument may be any `TypedArray` or `DataView`.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mbuffer[39m {Buffer|TypedArray|DataView} Must be supplied.[0m
    * [0m[33moffset[39m {number} [1mDefault:[22m [33m0[39m[0m
    * [0m[33msize[39m {number} [1mDefault:[22m [33mbuffer.length - offset[39m[0m
    * [0m[33mcallback[39m {Function} [33mfunction(err, buf) {}[39m.[0m

[0mThis function is similar to [34m[33mcrypto.randomBytes()[39m[34m ([34m[4m#crypto_crypto_randombytes_size_callback[24m[39m[34m)[39m but requires the first[0m
[0margument to be a [34m[33mBuffer[39m[34m ([34m[4mbuffer.html[24m[39m[34m)[39m that will be filled. It also[0m
[0mrequires that a callback is passed in.[0m

[0mIf the [33mcallback[39m function is not provided, an error will be thrown.[0m

    [94mconst[39m [37mbuf[39m [93m=[39m [37mBuffer[39m[32m.[39m[37malloc[39m[90m([39m[34m10[39m[90m)[39m[90m;[39m
    [37mcrypto[39m[32m.[39m[37mrandomFill[39m[90m([39m[37mbuf[39m[32m,[39m [90m([39m[37merr[39m[32m,[39m [37mbuf[39m[90m)[39m [93m=>[39m [33m{[39m
      [94mif[39m [90m([39m[37merr[39m[90m)[39m [94mthrow[39m [37merr[39m[90m;[39m
      [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mbuf[39m[32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m
    [33m}[39m[90m)[39m[90m;[39m
    
    [37mcrypto[39m[32m.[39m[37mrandomFill[39m[90m([39m[37mbuf[39m[32m,[39m [34m5[39m[32m,[39m [90m([39m[37merr[39m[32m,[39m [37mbuf[39m[90m)[39m [93m=>[39m [33m{[39m
      [94mif[39m [90m([39m[37merr[39m[90m)[39m [94mthrow[39m [37merr[39m[90m;[39m
      [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mbuf[39m[32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m
    [33m}[39m[90m)[39m[90m;[39m
    
    [90m// The above is equivalent to the following:[39m
    [37mcrypto[39m[32m.[39m[37mrandomFill[39m[90m([39m[37mbuf[39m[32m,[39m [34m5[39m[32m,[39m [34m5[39m[32m,[39m [90m([39m[37merr[39m[32m,[39m [37mbuf[39m[90m)[39m [93m=>[39m [33m{[39m
      [94mif[39m [90m([39m[37merr[39m[90m)[39m [94mthrow[39m [37merr[39m[90m;[39m
      [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mbuf[39m[32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m
    [33m}[39m[90m)[39m[90m;[39m

[0mAny [33mTypedArray[39m or [33mDataView[39m instance may be passed as [33mbuffer[39m.[0m

    [94mconst[39m [37ma[39m [93m=[39m [31mnew[39m [37mUint32Array[39m[90m([39m[34m10[39m[90m)[39m[90m;[39m
    [37mcrypto[39m[32m.[39m[37mrandomFill[39m[90m([39m[37ma[39m[32m,[39m [90m([39m[37merr[39m[32m,[39m [37mbuf[39m[90m)[39m [93m=>[39m [33m{[39m
      [94mif[39m [90m([39m[37merr[39m[90m)[39m [94mthrow[39m [37merr[39m[90m;[39m
      [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mBuffer[39m[32m.[39m[37mfrom[39m[90m([39m[37mbuf[39m[32m.[39m[37mbuffer[39m[32m,[39m [37mbuf[39m[32m.[39m[37mbyteOffset[39m[32m,[39m [37mbuf[39m[32m.[39m[37mbyteLength[39m[90m)[39m
        [32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m
    [33m}[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37mb[39m [93m=[39m [31mnew[39m [37mFloat64Array[39m[90m([39m[34m10[39m[90m)[39m[90m;[39m
    [37mcrypto[39m[32m.[39m[37mrandomFill[39m[90m([39m[37mb[39m[32m,[39m [90m([39m[37merr[39m[32m,[39m [37mbuf[39m[90m)[39m [93m=>[39m [33m{[39m
      [94mif[39m [90m([39m[37merr[39m[90m)[39m [94mthrow[39m [37merr[39m[90m;[39m
      [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mBuffer[39m[32m.[39m[37mfrom[39m[90m([39m[37mbuf[39m[32m.[39m[37mbuffer[39m[32m,[39m [37mbuf[39m[32m.[39m[37mbyteOffset[39m[32m,[39m [37mbuf[39m[32m.[39m[37mbyteLength[39m[90m)[39m
        [32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m
    [33m}[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37mc[39m [93m=[39m [31mnew[39m [37mDataView[39m[90m([39m[31mnew[39m [37mArrayBuffer[39m[90m([39m[34m10[39m[90m)[39m[90m)[39m[90m;[39m
    [37mcrypto[39m[32m.[39m[37mrandomFill[39m[90m([39m[37mc[39m[32m,[39m [90m([39m[37merr[39m[32m,[39m [37mbuf[39m[90m)[39m [93m=>[39m [33m{[39m
      [94mif[39m [90m([39m[37merr[39m[90m)[39m [94mthrow[39m [37merr[39m[90m;[39m
      [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mBuffer[39m[32m.[39m[37mfrom[39m[90m([39m[37mbuf[39m[32m.[39m[37mbuffer[39m[32m,[39m [37mbuf[39m[32m.[39m[37mbyteOffset[39m[32m,[39m [37mbuf[39m[32m.[39m[37mbyteLength[39m[90m)[39m
        [32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m
    [33m}[39m[90m)[39m[90m;[39m

[0mThis API uses libuv's threadpool, which can have surprising and[0m
[0mnegative performance implications for some applications; see the[0m
[0m[34m[33mUV_THREADPOOL_SIZE[39m[34m ([34m[4mcli.html#cli_uv_threadpool_size_size[24m[39m[34m)[39m documentation for more information.[0m

[0mThe asynchronous version of [33mcrypto.randomFill()[39m is carried out in a single[0m
[0mthreadpool request. To minimize threadpool task length variation, partition[0m
[0mlarge [33mrandomFill[39m requests when doing so as part of fulfilling a client[0m
[0mrequest.[0m

[32m[1m### [33mcrypto.scrypt(password, salt, keylen[, options], callback)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v10.5.0[39m
[90mchanges:[39m
[90m  - version: v12.8.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/28799[39m
[90m    description: The `maxmem` value can now be any safe integer.[39m
[90m  - version: v10.9.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/21525[39m
[90m    description: The `cost`, `blockSize` and `parallelization` option names[39m
[90m                 have been added.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mpassword[39m {string|Buffer|TypedArray|DataView}[0m
    * [0m[33msalt[39m {string|Buffer|TypedArray|DataView}[0m
    * [0m[33mkeylen[39m {number}[0m
    * [0m[33moptions[39m {Object}
        * [0m[0m[33mcost[39m {number} CPU/memory cost parameter. Must be a power of two greater[0m[0m[0m
      [0m      [0m[0mthan one. [1mDefault:[22m [33m16384[39m.[0m[0m[0m
      [0m
        * [0m[0m[33mblockSize[39m {number} Block size parameter. [1mDefault:[22m [33m8[39m.[0m[0m[0m
      [0m
        * [0m[0m[33mparallelization[39m {number} Parallelization parameter. [1mDefault:[22m [33m1[39m.[0m[0m[0m
      [0m
        * [0m[0m[33mN[39m {number} Alias for [33mcost[39m. Only one of both may be specified.[0m[0m[0m
      [0m
        * [0m[0m[33mr[39m {number} Alias for [33mblockSize[39m. Only one of both may be specified.[0m[0m[0m
      [0m
        * [0m[0m[33mp[39m {number} Alias for [33mparallelization[39m. Only one of both may be specified.[0m[0m[0m
      [0m
        * [0m[0m[33mmaxmem[39m {number} Memory upper bound. It is an error when (approximately)[0m[0m[0m
      [0m      [0m[0m[33m128 * N * r > maxmem[39m. [1mDefault:[22m [33m32 * 1024 * 1024[39m.[0m[0m[0m
    * [0m[33mcallback[39m {Function}
        * [0m[0m[33merr[39m {Error}[0m[0m[0m
      [0m
        * [0m[0m[33mderivedKey[39m {Buffer}[0m[0m[0m

[0mProvides an asynchronous [34mscrypt ([34m[4mhttps://en.wikipedia.org/wiki/Scrypt[24m[39m[34m)[39m implementation. Scrypt is a password-based[0m
[0mkey derivation function that is designed to be expensive computationally and[0m
[0mmemory-wise in order to make brute-force attacks unrewarding.[0m

[0mThe [33msalt[39m should be as unique as possible. It is recommended that a salt is[0m
[0mrandom and at least 16 bytes long. See [34mNIST SP 800-132 ([34m[4mhttps://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-132.pdf[24m[39m[34m)[39m for details.[0m

[0mThe [33mcallback[39m function is called with two arguments: [33merr[39m and [33mderivedKey[39m.[0m
[0m[33merr[39m is an exception object when key derivation fails, otherwise [33merr[39m is[0m
[0m[33mnull[39m. [33mderivedKey[39m is passed to the callback as a [34m[33mBuffer[39m[34m ([34m[4mbuffer.html[24m[39m[34m)[39m.[0m

[0mAn exception is thrown when any of the input arguments specify invalid values[0m
[0mor types.[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [90m// Using the factory defaults.[39m
    [37mcrypto[39m[32m.[39m[37mscrypt[39m[90m([39m[92m'secret'[39m[32m,[39m [92m'salt'[39m[32m,[39m [34m64[39m[32m,[39m [90m([39m[37merr[39m[32m,[39m [37mderivedKey[39m[90m)[39m [93m=>[39m [33m{[39m
      [94mif[39m [90m([39m[37merr[39m[90m)[39m [94mthrow[39m [37merr[39m[90m;[39m
      [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mderivedKey[39m[32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m  [90m// '3745e48...08d59ae'[39m
    [33m}[39m[90m)[39m[90m;[39m
    [90m// Using a custom N parameter. Must be a power of two.[39m
    [37mcrypto[39m[32m.[39m[37mscrypt[39m[90m([39m[92m'secret'[39m[32m,[39m [92m'salt'[39m[32m,[39m [34m64[39m[32m,[39m [33m{[39m [37mN[39m[93m:[39m [34m1024[39m [33m}[39m[32m,[39m [90m([39m[37merr[39m[32m,[39m [37mderivedKey[39m[90m)[39m [93m=>[39m [33m{[39m
      [94mif[39m [90m([39m[37merr[39m[90m)[39m [94mthrow[39m [37merr[39m[90m;[39m
      [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mderivedKey[39m[32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m  [90m// '3745e48...aa39b34'[39m
    [33m}[39m[90m)[39m[90m;[39m

[32m[1m### [33mcrypto.scryptSync(password, salt, keylen[, options])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v10.5.0[39m
[90mchanges:[39m
[90m  - version: v12.8.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/28799[39m
[90m    description: The `maxmem` value can now be any safe integer.[39m
[90m  - version: v10.9.0[39m
[90m    pr-url: https://github.com/nodejs/node/pull/21525[39m
[90m    description: The `cost`, `blockSize` and `parallelization` option names[39m
[90m                 have been added.[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mpassword[39m {string|Buffer|TypedArray|DataView}[0m
    * [0m[33msalt[39m {string|Buffer|TypedArray|DataView}[0m
    * [0m[33mkeylen[39m {number}[0m
    * [0m[33moptions[39m {Object}
        * [0m[0m[33mcost[39m {number} CPU/memory cost parameter. Must be a power of two greater[0m[0m[0m
      [0m      [0m[0mthan one. [1mDefault:[22m [33m16384[39m.[0m[0m[0m
      [0m
        * [0m[0m[33mblockSize[39m {number} Block size parameter. [1mDefault:[22m [33m8[39m.[0m[0m[0m
      [0m
        * [0m[0m[33mparallelization[39m {number} Parallelization parameter. [1mDefault:[22m [33m1[39m.[0m[0m[0m
      [0m
        * [0m[0m[33mN[39m {number} Alias for [33mcost[39m. Only one of both may be specified.[0m[0m[0m
      [0m
        * [0m[0m[33mr[39m {number} Alias for [33mblockSize[39m. Only one of both may be specified.[0m[0m[0m
      [0m
        * [0m[0m[33mp[39m {number} Alias for [33mparallelization[39m. Only one of both may be specified.[0m[0m[0m
      [0m
        * [0m[0m[33mmaxmem[39m {number} Memory upper bound. It is an error when (approximately)[0m[0m[0m
      [0m      [0m[0m[33m128 * N * r > maxmem[39m. [1mDefault:[22m [33m32 * 1024 * 1024[39m.[0m[0m[0m
    * [0mReturns: {Buffer}[0m

[0mProvides a synchronous [34mscrypt ([34m[4mhttps://en.wikipedia.org/wiki/Scrypt[24m[39m[34m)[39m implementation. Scrypt is a password-based[0m
[0mkey derivation function that is designed to be expensive computationally and[0m
[0mmemory-wise in order to make brute-force attacks unrewarding.[0m

[0mThe [33msalt[39m should be as unique as possible. It is recommended that a salt is[0m
[0mrandom and at least 16 bytes long. See [34mNIST SP 800-132 ([34m[4mhttps://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-132.pdf[24m[39m[34m)[39m for details.[0m

[0mAn exception is thrown when key derivation fails, otherwise the derived key is[0m
[0mreturned as a [34m[33mBuffer[39m[34m ([34m[4mbuffer.html[24m[39m[34m)[39m.[0m

[0mAn exception is thrown when any of the input arguments specify invalid values[0m
[0mor types.[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    [90m// Using the factory defaults.[39m
    [94mconst[39m [37mkey1[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mscryptSync[39m[90m([39m[92m'secret'[39m[32m,[39m [92m'salt'[39m[32m,[39m [34m64[39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mkey1[39m[32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m  [90m// '3745e48...08d59ae'[39m
    [90m// Using a custom N parameter. Must be a power of two.[39m
    [94mconst[39m [37mkey2[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mscryptSync[39m[90m([39m[92m'secret'[39m[32m,[39m [92m'salt'[39m[32m,[39m [34m64[39m[32m,[39m [33m{[39m [37mN[39m[93m:[39m [34m1024[39m [33m}[39m[90m)[39m[90m;[39m
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mkey2[39m[32m.[39m[37mtoString[39m[90m([39m[92m'hex'[39m[90m)[39m[90m)[39m[90m;[39m  [90m// '3745e48...aa39b34'[39m

[32m[1m### [33mcrypto.setEngine(engine[, flags])[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v0.11.11[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mengine[39m {string}[0m
    * [0m[33mflags[39m {crypto.constants} [1mDefault:[22m [33mcrypto.constants.ENGINE_METHOD_ALL[39m[0m

[0mLoad and set the [33mengine[39m for some or all OpenSSL functions (selected by flags).[0m

[0m[33mengine[39m could be either an id or a path to the engine's shared library.[0m

[0mThe optional [33mflags[39m argument uses [33mENGINE_METHOD_ALL[39m by default. The [33mflags[39m[0m
[0mis a bit field taking one of or a mix of the following flags (defined in[0m
[0m[33mcrypto.constants[39m):[0m

    * [0m[33mcrypto.constants.ENGINE_METHOD_RSA[39m[0m
    * [0m[33mcrypto.constants.ENGINE_METHOD_DSA[39m[0m
    * [0m[33mcrypto.constants.ENGINE_METHOD_DH[39m[0m
    * [0m[33mcrypto.constants.ENGINE_METHOD_RAND[39m[0m
    * [0m[33mcrypto.constants.ENGINE_METHOD_EC[39m[0m
    * [0m[33mcrypto.constants.ENGINE_METHOD_CIPHERS[39m[0m
    * [0m[33mcrypto.constants.ENGINE_METHOD_DIGESTS[39m[0m
    * [0m[33mcrypto.constants.ENGINE_METHOD_PKEY_METHS[39m[0m
    * [0m[33mcrypto.constants.ENGINE_METHOD_PKEY_ASN1_METHS[39m[0m
    * [0m[33mcrypto.constants.ENGINE_METHOD_ALL[39m[0m
    * [0m[33mcrypto.constants.ENGINE_METHOD_NONE[39m[0m

[0mThe flags below are deprecated in OpenSSL-1.1.0.[0m

    * [0m[33mcrypto.constants.ENGINE_METHOD_ECDH[39m[0m
    * [0m[33mcrypto.constants.ENGINE_METHOD_ECDSA[39m[0m
    * [0m[33mcrypto.constants.ENGINE_METHOD_STORE[39m[0m

[32m[1m### [33mcrypto.setFips(bool)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v10.0.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33mbool[39m {boolean} [33mtrue[39m to enable FIPS mode.[0m

[0mEnables the FIPS compliant crypto provider in a FIPS-enabled Node.js build.[0m
[0mThrows an error if FIPS mode is not available.[0m

[32m[1m### [33mcrypto.sign(algorithm, data, key)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v12.0.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33malgorithm[39m {string | null | undefined}[0m
    * [0m[33mdata[39m {Buffer | TypedArray | DataView}[0m
    * [0m[33mkey[39m {Object | string | Buffer | KeyObject}[0m
    * [0mReturns: {Buffer}[0m

[0mCalculates and returns the signature for [33mdata[39m using the given private key and[0m
[0malgorithm. If [33malgorithm[39m is [33mnull[39m or [33mundefined[39m, then the algorithm is[0m
[0mdependent upon the key type (especially Ed25519 and Ed448).[0m

[0mIf [33mkey[39m is not a [34m[33mKeyObject[39m[34m ([34m[4m#crypto_class_keyobject[24m[39m[34m)[39m, this function behaves as if [33mkey[39m had been[0m
[0mpassed to [34m[33mcrypto.createPrivateKey()[39m[34m ([34m[4m#crypto_crypto_createprivatekey_key[24m[39m[34m)[39m. If it is an object, the following[0m
[0madditional properties can be passed:[0m

    * [0m[0m[0m[33mdsaEncoding[39m {string} For DSA and ECDSA, this option specifies the[0m[0m[0m
      [0m[0m[0mformat of the generated signature. It can be one of the following:[0m[0m[0m
      [0m[0m
      [0m
        * [0m[0m[33m'der'[39m (default): DER-encoded ASN.1 signature structure encoding [33m(r, s)[39m.[0m[0m[0m
      [0m
        * [0m[0m[33m'ieee-p1363'[39m: Signature format [33mr || s[39m as proposed in IEEE-P1363.[0m[0m[0m
    * [0m[0m[0m[33mpadding[39m {integer} Optional padding value for RSA, one of the following:[0m[0m[0m
      [0m[0m
      [0m
        * [0m[0m[33mcrypto.constants.RSA_PKCS1_PADDING[39m (default)[0m[0m[0m
      [0m
        * [0m[0m[33mcrypto.constants.RSA_PKCS1_PSS_PADDING[39m[0m[0m[0m
      [0m[0m
      [0m[0m[0m[33mRSA_PKCS1_PSS_PADDING[39m will use MGF1 with the same hash function[0m[0m[0m
      [0m[0m[0mused to sign the message as specified in section 3.1 of [34mRFC 4055 ([34m[4mhttps://www.rfc-editor.org/rfc/rfc4055.txt[24m[39m[34m)[39m.[0m[0m[0m
    * [0m[0m[0m[33msaltLength[39m {integer} Salt length for when padding is[0m[0m[0m
      [0m[0m[0m[33mRSA_PKCS1_PSS_PADDING[39m. The special value[0m[0m[0m
      [0m[0m[0m[33mcrypto.constants.RSA_PSS_SALTLEN_DIGEST[39m sets the salt length to the digest[0m[0m[0m
      [0m[0m[0msize, [33mcrypto.constants.RSA_PSS_SALTLEN_MAX_SIGN[39m (default) sets it to the[0m[0m[0m
      [0m[0m[0mmaximum permissible value.[0m[0m[0m

[32m[1m### [33mcrypto.timingSafeEqual(a, b)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v6.6.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33ma[39m {Buffer | TypedArray | DataView}[0m
    * [0m[33mb[39m {Buffer | TypedArray | DataView}[0m
    * [0mReturns: {boolean}[0m

[0mThis function is based on a constant-time algorithm.[0m
[0mReturns true if [33ma[39m is equal to [33mb[39m, without leaking timing information that[0m
[0mwould allow an attacker to guess one of the values. This is suitable for[0m
[0mcomparing HMAC digests or secret values like authentication cookies or[0m
[0m[34mcapability urls ([34m[4mhttps://www.w3.org/TR/capability-urls/[24m[39m[34m)[39m.[0m

[0m[33ma[39m and [33mb[39m must both be [33mBuffer[39ms, [33mTypedArray[39ms, or [33mDataView[39ms, and they[0m
[0mmust have the same length.[0m

[0mUse of [33mcrypto.timingSafeEqual[39m does not guarantee that the [3msurrounding[23m code[0m
[0mis timing-safe. Care should be taken to ensure that the surrounding code does[0m
[0mnot introduce timing vulnerabilities.[0m

[32m[1m### [33mcrypto.verify(algorithm, data, key, signature)[39m[32m[22m[39m

[90m<!-- YAML[39m
[90madded: v12.0.0[39m
[90m-->[39m
[90m[39m
[90m[39m    * [0m[33malgorithm[39m {string | null | undefined}[0m
    * [0m[33mdata[39m {Buffer | TypedArray | DataView}[0m
    * [0m[33mkey[39m {Object | string | Buffer | KeyObject}[0m
    * [0m[33msignature[39m {Buffer | TypedArray | DataView}[0m
    * [0mReturns: {boolean}[0m

[0mVerifies the given signature for [33mdata[39m using the given key and algorithm. If[0m
[0m[33malgorithm[39m is [33mnull[39m or [33mundefined[39m, then the algorithm is dependent upon the[0m
[0mkey type (especially Ed25519 and Ed448).[0m

[0mIf [33mkey[39m is not a [34m[33mKeyObject[39m[34m ([34m[4m#crypto_class_keyobject[24m[39m[34m)[39m, this function behaves as if [33mkey[39m had been[0m
[0mpassed to [34m[33mcrypto.createPublicKey()[39m[34m ([34m[4m#crypto_crypto_createpublickey_key[24m[39m[34m)[39m. If it is an object, the following[0m
[0madditional properties can be passed:[0m

    * [0m[0m[0m[33mdsaEncoding[39m {string} For DSA and ECDSA, this option specifies the[0m[0m[0m
      [0m[0m[0mformat of the generated signature. It can be one of the following:[0m[0m[0m
      [0m[0m
      [0m
        * [0m[0m[33m'der'[39m (default): DER-encoded ASN.1 signature structure encoding [33m(r, s)[39m.[0m[0m[0m
      [0m
        * [0m[0m[33m'ieee-p1363'[39m: Signature format [33mr || s[39m as proposed in IEEE-P1363.[0m[0m[0m
    * [0m[0m[0m[33mpadding[39m {integer} Optional padding value for RSA, one of the following:[0m[0m[0m
      [0m[0m
      [0m
        * [0m[0m[33mcrypto.constants.RSA_PKCS1_PADDING[39m (default)[0m[0m[0m
      [0m
        * [0m[0m[33mcrypto.constants.RSA_PKCS1_PSS_PADDING[39m[0m[0m[0m
      [0m[0m
      [0m[0m[0m[33mRSA_PKCS1_PSS_PADDING[39m will use MGF1 with the same hash function[0m[0m[0m
      [0m[0m[0mused to sign the message as specified in section 3.1 of [34mRFC 4055 ([34m[4mhttps://www.rfc-editor.org/rfc/rfc4055.txt[24m[39m[34m)[39m.[0m[0m[0m
    * [0m[0m[0m[33msaltLength[39m {integer} Salt length for when padding is[0m[0m[0m
      [0m[0m[0m[33mRSA_PKCS1_PSS_PADDING[39m. The special value[0m[0m[0m
      [0m[0m[0m[33mcrypto.constants.RSA_PSS_SALTLEN_DIGEST[39m sets the salt length to the digest[0m[0m[0m
      [0m[0m[0msize, [33mcrypto.constants.RSA_PSS_SALTLEN_MAX_SIGN[39m (default) sets it to the[0m[0m[0m
      [0m[0m[0mmaximum permissible value.[0m[0m[0m

[0mThe [33msignature[39m argument is the previously calculated signature for the [33mdata[39m.[0m

[0mBecause public keys can be derived from private keys, a private key or a public[0m
[0mkey may be passed for [33mkey[39m.[0m

[32m[1m## Notes[22m[39m

[32m[1m### Legacy Streams API (pre Node.js v0.10)[22m[39m

[0mThe Crypto module was added to Node.js before there was the concept of a[0m
[0munified Stream API, and before there were [34m[33mBuffer[39m[34m ([34m[4mbuffer.html[24m[39m[34m)[39m objects for handling[0m
[0mbinary data. As such, the many of the [33mcrypto[39m defined classes have methods not[0m
[0mtypically found on other Node.js classes that implement the [34mstreams ([34m[4mstream.html[24m[39m[34m)[39m[0m
[0mAPI (e.g. [33mupdate()[39m, [33mfinal()[39m, or [33mdigest()[39m). Also, many methods accepted[0m
[0mand returned [33m'latin1'[39m encoded strings by default rather than [33mBuffer[39ms. This[0m
[0mdefault was changed after Node.js v0.8 to use [34m[33mBuffer[39m[34m ([34m[4mbuffer.html[24m[39m[34m)[39m objects by default[0m
[0minstead.[0m

[32m[1m### Recent ECDH Changes[22m[39m

[0mUsage of [33mECDH[39m with non-dynamically generated key pairs has been simplified.[0m
[0mNow, [34m[33mecdh.setPrivateKey()[39m[34m ([34m[4m#crypto_ecdh_setprivatekey_privatekey_encoding[24m[39m[34m)[39m can be called with a preselected private key[0m
[0mand the associated public point (key) will be computed and stored in the object.[0m
[0mThis allows code to only store and provide the private part of the EC key pair.[0m
[0m[34m[33mecdh.setPrivateKey()[39m[34m ([34m[4m#crypto_ecdh_setprivatekey_privatekey_encoding[24m[39m[34m)[39m now also validates that the private key is valid for[0m
[0mthe selected curve.[0m

[0mThe [34m[33mecdh.setPublicKey()[39m[34m ([34m[4m#crypto_ecdh_setpublickey_publickey_encoding[24m[39m[34m)[39m method is now deprecated as its inclusion in the[0m
[0mAPI is not useful. Either a previously stored private key should be set, which[0m
[0mautomatically generates the associated public key, or [34m[33mecdh.generateKeys()[39m[34m ([34m[4m#crypto_ecdh_generatekeys_encoding_format[24m[39m[34m)[39m[0m
[0mshould be called. The main drawback of using [34m[33mecdh.setPublicKey()[39m[34m ([34m[4m#crypto_ecdh_setpublickey_publickey_encoding[24m[39m[34m)[39m is that[0m
[0mit can be used to put the ECDH key pair into an inconsistent state.[0m

[32m[1m### Support for weak or compromised algorithms[22m[39m

[0mThe [33mcrypto[39m module still supports some algorithms which are already[0m
[0mcompromised and are not currently recommended for use. The API also allows[0m
[0mthe use of ciphers and hashes with a small key size that are too weak for safe[0m
[0muse.[0m

[0mUsers should take full responsibility for selecting the crypto[0m
[0malgorithm and key size according to their security requirements.[0m

[0mBased on the recommendations of [34mNIST SP 800-131A ([34m[4mhttps://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-131Ar1.pdf[24m[39m[34m)[39m:[0m

    * [0mMD5 and SHA-1 are no longer acceptable where collision resistance is[0m
      [0mrequired such as digital signatures.[0m
    * [0mThe key used with RSA, DSA, and DH algorithms is recommended to have[0m
      [0mat least 2048 bits and that of the curve of ECDSA and ECDH at least[0m
      [0m224 bits, to be safe to use for several years.[0m
    * [0mThe DH groups of [33mmodp1[39m, [33mmodp2[39m and [33mmodp5[39m have a key size[0m
      [0msmaller than 2048 bits and are not recommended.[0m

[0mSee the reference for other recommendations and details.[0m

[32m[1m### CCM mode[22m[39m

[0mCCM is one of the supported [34mAEAD algorithms ([34m[4mhttps://en.wikipedia.org/wiki/Authenticated_encryption[24m[39m[34m)[39m. Applications which use this[0m
[0mmode must adhere to certain restrictions when using the cipher API:[0m

    * [0mThe authentication tag length must be specified during cipher creation by[0m
      [0msetting the [33mauthTagLength[39m option and must be one of 4, 6, 8, 10, 12, 14 or[0m
      [0m16 bytes.[0m
    * [0mThe length of the initialization vector (nonce) [33mN[39m must be between 7 and 13[0m
      [0mbytes ([33m7 ≤ N ≤ 13[39m).[0m
    * [0mThe length of the plaintext is limited to [33m2 ** (8 * (15 - N))[39m bytes.[0m
    * [0mWhen decrypting, the authentication tag must be set via [33msetAuthTag()[39m before[0m
      [0mcalling [33mupdate()[39m.[0m
      [0mOtherwise, decryption will fail and [33mfinal()[39m will throw an error in[0m
      [0mcompliance with section 2.6 of [34mRFC 3610 ([34m[4mhttps://www.rfc-editor.org/rfc/rfc3610.txt[24m[39m[34m)[39m.[0m
    * [0mUsing stream methods such as [33mwrite(data)[39m, [33mend(data)[39m or [33mpipe()[39m in CCM[0m
      [0mmode might fail as CCM cannot handle more than one chunk of data per instance.[0m
    * [0mWhen passing additional authenticated data (AAD), the length of the actual[0m
      [0mmessage in bytes must be passed to [33msetAAD()[39m via the [33mplaintextLength[39m[0m
      [0moption. This is not necessary if no AAD is used.[0m
    * [0mAs CCM processes the whole message at once, [33mupdate()[39m can only be called[0m
      [0monce.[0m
    * [0mEven though calling [33mupdate()[39m is sufficient to encrypt/decrypt the message,[0m
      [0mapplications [3mmust[23m call [33mfinal()[39m to compute or verify the[0m
      [0mauthentication tag.[0m

    [94mconst[39m [37mcrypto[39m [93m=[39m [37mrequire[39m[90m([39m[92m'api/source/crypto'[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37mkey[39m [93m=[39m [92m'keykeykeykeykeykeykeykey'[39m[90m;[39m
    [94mconst[39m [37mnonce[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mrandomBytes[39m[90m([39m[34m12[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37maad[39m [93m=[39m [37mBuffer[39m[32m.[39m[37mfrom[39m[90m([39m[92m'0123456789'[39m[32m,[39m [92m'hex'[39m[90m)[39m[90m;[39m
    
    [94mconst[39m [37mcipher[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateCipheriv[39m[90m([39m[92m'aes-192-ccm'[39m[32m,[39m [37mkey[39m[32m,[39m [37mnonce[39m[32m,[39m [33m{[39m
      [37mauthTagLength[39m[93m:[39m [34m16[39m
    [33m}[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mplaintext[39m [93m=[39m [92m'Hello world'[39m[90m;[39m
    [37mcipher[39m[32m.[39m[37msetAAD[39m[90m([39m[37maad[39m[32m,[39m [33m{[39m
      [37mplaintextLength[39m[93m:[39m [37mBuffer[39m[32m.[39m[37mbyteLength[39m[90m([39m[37mplaintext[39m[90m)[39m
    [33m}[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mciphertext[39m [93m=[39m [37mcipher[39m[32m.[39m[37mupdate[39m[90m([39m[37mplaintext[39m[32m,[39m [92m'utf8'[39m[90m)[39m[90m;[39m
    [37mcipher[39m[32m.[39m[37mfinal[39m[90m([39m[90m)[39m[90m;[39m
    [94mconst[39m [37mtag[39m [93m=[39m [37mcipher[39m[32m.[39m[37mgetAuthTag[39m[90m([39m[90m)[39m[90m;[39m
    
    [90m// Now transmit { ciphertext, nonce, tag }.[39m
    
    [94mconst[39m [37mdecipher[39m [93m=[39m [37mcrypto[39m[32m.[39m[37mcreateDecipheriv[39m[90m([39m[92m'aes-192-ccm'[39m[32m,[39m [37mkey[39m[32m,[39m [37mnonce[39m[32m,[39m [33m{[39m
      [37mauthTagLength[39m[93m:[39m [34m16[39m
    [33m}[39m[90m)[39m[90m;[39m
    [37mdecipher[39m[32m.[39m[37msetAuthTag[39m[90m([39m[37mtag[39m[90m)[39m[90m;[39m
    [37mdecipher[39m[32m.[39m[37msetAAD[39m[90m([39m[37maad[39m[32m,[39m [33m{[39m
      [37mplaintextLength[39m[93m:[39m [37mciphertext[39m[32m.[39m[37mlength[39m
    [33m}[39m[90m)[39m[90m;[39m
    [94mconst[39m [37mreceivedPlaintext[39m [93m=[39m [37mdecipher[39m[32m.[39m[37mupdate[39m[90m([39m[37mciphertext[39m[32m,[39m [90mnull[39m[32m,[39m [92m'utf8'[39m[90m)[39m[90m;[39m
    
    [36mtry[39m [33m{[39m
      [37mdecipher[39m[32m.[39m[37mfinal[39m[90m([39m[90m)[39m[90m;[39m
    [33m}[39m [36mcatch[39m [90m([39m[37merr[39m[90m)[39m [33m{[39m
      [34mconsole[39m[32m.[39m[91merror[39m[90m([39m[92m'Authentication failed!'[39m[90m)[39m[90m;[39m
      [31mreturn[39m[90m;[39m
    [33m}[39m
    
    [34mconsole[39m[32m.[39m[34mlog[39m[90m([39m[37mreceivedPlaintext[39m[90m)[39m[90m;[39m

[32m[1m## Crypto Constants[22m[39m

[0mThe following constants exported by [33mcrypto.constants[39m apply to various uses of[0m
[0mthe [33mcrypto[39m, [33mtls[39m, and [33mhttps[39m modules and are generally specific to OpenSSL.[0m

[32m[1m### OpenSSL Options[22m[39m

[90m<table>[39m
[90m  <tr>[39m
[90m    <th>Constant</th>[39m
[90m    <th>Description</th>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_ALL</code></td>[39m
[90m    <td>Applies multiple bug workarounds within OpenSSL. See[39m
[90m    <a href="https://www.openssl.org/docs/man1.0.2/ssl/SSL_CTX_set_options.html">https://www.openssl.org/docs/man1.0.2/ssl/SSL_CTX_set_options.html</a>[39m
[90m    for detail.</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION</code></td>[39m
[90m    <td>Allows legacy insecure renegotiation between OpenSSL and unpatched[39m
[90m    clients or servers. See[39m
[90m    <a href="https://www.openssl.org/docs/man1.0.2/ssl/SSL_CTX_set_options.html">https://www.openssl.org/docs/man1.0.2/ssl/SSL_CTX_set_options.html</a>.</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_CIPHER_SERVER_PREFERENCE</code></td>[39m
[90m    <td>Attempts to use the server's preferences instead of the client's when[39m
[90m    selecting a cipher. Behavior depends on protocol version. See[39m
[90m    <a href="https://www.openssl.org/docs/man1.0.2/ssl/SSL_CTX_set_options.html">https://www.openssl.org/docs/man1.0.2/ssl/SSL_CTX_set_options.html</a>.</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_CISCO_ANYCONNECT</code></td>[39m
[90m    <td>Instructs OpenSSL to use Cisco's "speshul" version of DTLS_BAD_VER.</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_COOKIE_EXCHANGE</code></td>[39m
[90m    <td>Instructs OpenSSL to turn on cookie exchange.</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_CRYPTOPRO_TLSEXT_BUG</code></td>[39m
[90m    <td>Instructs OpenSSL to add server-hello extension from an early version[39m
[90m    of the cryptopro draft.</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS</code></td>[39m
[90m    <td>Instructs OpenSSL to disable a SSL 3.0/TLS 1.0 vulnerability[39m
[90m    workaround added in OpenSSL 0.9.6d.</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_EPHEMERAL_RSA</code></td>[39m
[90m    <td>Instructs OpenSSL to always use the tmp_rsa key when performing RSA[39m
[90m    operations.</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_LEGACY_SERVER_CONNECT</code></td>[39m
[90m    <td>Allows initial connection to servers that do not support RI.</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_MICROSOFT_SESS_ID_BUG</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_MSIE_SSLV2_RSA_PADDING</code></td>[39m
[90m    <td>Instructs OpenSSL to disable the workaround for a man-in-the-middle[39m
[90m    protocol-version vulnerability in the SSL 2.0 server implementation.</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_NETSCAPE_CA_DN_BUG</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_NETSCAPE_CHALLENGE_BUG</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_NO_COMPRESSION</code></td>[39m
[90m    <td>Instructs OpenSSL to disable support for SSL/TLS compression.</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_NO_QUERY_MTU</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION</code></td>[39m
[90m    <td>Instructs OpenSSL to always start a new session when performing[39m
[90m    renegotiation.</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_NO_SSLv2</code></td>[39m
[90m    <td>Instructs OpenSSL to turn off SSL v2</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_NO_SSLv3</code></td>[39m
[90m    <td>Instructs OpenSSL to turn off SSL v3</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_NO_TICKET</code></td>[39m
[90m    <td>Instructs OpenSSL to disable use of RFC4507bis tickets.</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_NO_TLSv1</code></td>[39m
[90m    <td>Instructs OpenSSL to turn off TLS v1</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_NO_TLSv1_1</code></td>[39m
[90m    <td>Instructs OpenSSL to turn off TLS v1.1</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_NO_TLSv1_2</code></td>[39m
[90m    <td>Instructs OpenSSL to turn off TLS v1.2</td>[39m
[90m  </tr>[39m
[90m    <td><code>SSL_OP_PKCS1_CHECK_1</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_PKCS1_CHECK_2</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_SINGLE_DH_USE</code></td>[39m
[90m    <td>Instructs OpenSSL to always create a new key when using[39m
[90m    temporary/ephemeral DH parameters.</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_SINGLE_ECDH_USE</code></td>[39m
[90m    <td>Instructs OpenSSL to always create a new key when using[39m
[90m    temporary/ephemeral ECDH parameters.</td>[39m
[90m  </tr>[39m
[90m    <td><code>SSL_OP_SSLEAY_080_CLIENT_DH_BUG</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_TLS_BLOCK_PADDING_BUG</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_TLS_D5_BUG</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>SSL_OP_TLS_ROLLBACK_BUG</code></td>[39m
[90m    <td>Instructs OpenSSL to disable version rollback attack detection.</td>[39m
[90m  </tr>[39m
[90m</table>[39m
[90m[39m
[90m[39m[32m[1m### OpenSSL Engine Constants[22m[39m

[90m<table>[39m
[90m  <tr>[39m
[90m    <th>Constant</th>[39m
[90m    <th>Description</th>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>ENGINE_METHOD_RSA</code></td>[39m
[90m    <td>Limit engine usage to RSA</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>ENGINE_METHOD_DSA</code></td>[39m
[90m    <td>Limit engine usage to DSA</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>ENGINE_METHOD_DH</code></td>[39m
[90m    <td>Limit engine usage to DH</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>ENGINE_METHOD_RAND</code></td>[39m
[90m    <td>Limit engine usage to RAND</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>ENGINE_METHOD_EC</code></td>[39m
[90m    <td>Limit engine usage to EC</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>ENGINE_METHOD_CIPHERS</code></td>[39m
[90m    <td>Limit engine usage to CIPHERS</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>ENGINE_METHOD_DIGESTS</code></td>[39m
[90m    <td>Limit engine usage to DIGESTS</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>ENGINE_METHOD_PKEY_METHS</code></td>[39m
[90m    <td>Limit engine usage to PKEY_METHDS</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>ENGINE_METHOD_PKEY_ASN1_METHS</code></td>[39m
[90m    <td>Limit engine usage to PKEY_ASN1_METHS</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>ENGINE_METHOD_ALL</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>ENGINE_METHOD_NONE</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m</table>[39m
[90m[39m
[90m[39m[32m[1m### Other OpenSSL Constants[22m[39m

[90m<table>[39m
[90m  <tr>[39m
[90m    <th>Constant</th>[39m
[90m    <th>Description</th>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>DH_CHECK_P_NOT_SAFE_PRIME</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>DH_CHECK_P_NOT_PRIME</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>DH_UNABLE_TO_CHECK_GENERATOR</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>DH_NOT_SUITABLE_GENERATOR</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>ALPN_ENABLED</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>RSA_PKCS1_PADDING</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>RSA_SSLV23_PADDING</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>RSA_NO_PADDING</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>RSA_PKCS1_OAEP_PADDING</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>RSA_X931_PADDING</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>RSA_PKCS1_PSS_PADDING</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>RSA_PSS_SALTLEN_DIGEST</code></td>[39m
[90m    <td>Sets the salt length for <code>RSA_PKCS1_PSS_PADDING</code> to the[39m
[90m        digest size when signing or verifying.</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>RSA_PSS_SALTLEN_MAX_SIGN</code></td>[39m
[90m    <td>Sets the salt length for <code>RSA_PKCS1_PSS_PADDING</code> to the[39m
[90m        maximum permissible value when signing data.</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>RSA_PSS_SALTLEN_AUTO</code></td>[39m
[90m    <td>Causes the salt length for <code>RSA_PKCS1_PSS_PADDING</code> to be[39m
[90m        determined automatically when verifying a signature.</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>POINT_CONVERSION_COMPRESSED</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>POINT_CONVERSION_UNCOMPRESSED</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>POINT_CONVERSION_HYBRID</code></td>[39m
[90m    <td></td>[39m
[90m  </tr>[39m
[90m</table>[39m
[90m[39m
[90m[39m[32m[1m### Node.js Crypto Constants[22m[39m

[90m<table>[39m
[90m  <tr>[39m
[90m    <th>Constant</th>[39m
[90m    <th>Description</th>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>defaultCoreCipherList</code></td>[39m
[90m    <td>Specifies the built-in default cipher list used by Node.js.</td>[39m
[90m  </tr>[39m
[90m  <tr>[39m
[90m    <td><code>defaultCipherList</code></td>[39m
[90m    <td>Specifies the active default cipher list used by the current Node.js[39m
[90m    process.</td>[39m
[90m  </tr>[39m
[90m</table>[39m
[90m[39m
[90m[39m